(function(){"use strict";var a={6843:function(a,e,o){var t=o(4373),i=o(5130),s=o(6768);const r={class:"body"};function n(a,e,o,t,i,n){const l=(0,s.g2)("NavbarPublicoComponent"),c=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",r,["/"===a.$route.path||"/login"===a.$route.path||"/contacto"===a.$route.path||"/registrar"===a.$route.path||"/requisitos"===a.$route.path||"/solicitar-tarjeta"===a.$route.path||/^\/noticias(\/.*)?$/.test(a.$route.path)?((0,s.uX)(),(0,s.Wv)(l,{key:0})):(0,s.Q3)("",!0),(0,s.bF)(c)])}o(8077);const l={class:"barra-navegacion"},c={class:"ancho-pag fondo-nav c-white"};function d(a,e,o,t,i,r){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("nav",l,[(0,s.Lk)("div",c,[e[2]||(e[2]=(0,s.Lk)("a",{href:"/",class:"flex"},[(0,s.Lk)("img",{src:"/recursos/logomds.png",class:"mv-auto img-logo",alt:""}),(0,s.Lk)("h1",{class:"mb-0 p-3 titulo-navbar"},"Tarjetas Sociales")],-1)),i.logueado?"/"==a.$route.path?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"btn btn-ingresar",onClick:e[0]||(e[0]=(...a)=>r.redireccionarInicio&&r.redireccionarInicio(...a))},"Inicio")):(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(n,{key:0,class:"btn-ingresar",to:"/login"},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.eW)("Iniciar sesión")]))),_:1}))])])])}o(4114);var u=o(1387),m=o(4232);const p={class:"container"},f={class:"navbar"},h={class:"navbar-nav"};function b(a,e,o,t,i,r){return(0,s.uX)(),(0,s.CE)("div",p,[(0,s.Lk)("nav",f,[(0,s.Lk)("ul",h,[(0,s.Lk)("li",{class:(0,m.C4)(["nav-item",{active:"/home"==a.$route.path}])}," Inicio ",2),(0,s.Lk)("li",{class:(0,m.C4)(["nav-item",{active:"/solicitar-tarjeta"==a.$route.path}])}," Solicitar ",2),(0,s.Lk)("li",{class:(0,m.C4)(["nav-item",{active:"/mi-tarjeta"==a.$route.path}])}," Mi Tarjeta ",2)])])])}var v={},k=o(1241);const L=(0,k.A)(v,[["render",b],["__scopeId","data-v-a85cc5a4"]]);var g=L,j=o.p+"img/ministerio-banner.b61e6216.jpg";const _={class:"ancho-pag"},y={key:0,class:"noticias"},C={class:"noticia-destacada"},S=["src"],E={class:"noticia-titulo destacada"},A={class:"flex-column"},w={class:"noticias-scroll"},I=["src"],F={class:"noticia-titulo"},D={class:"ancho-pag bg-dark mt-4"},x={class:"ts-descripcion"},N={class:"ct-botones"},T={class:"flex-botones"};function M(a,e,o,t,i,r){const n=(0,s.g2)("router-link"),l=(0,s.g2)("PieComponent");return(0,s.uX)(),(0,s.CE)("div",null,[e[4]||(e[4]=(0,s.Lk)("div",{class:"banner"},[(0,s.Lk)("img",{class:"img-banner",src:j,alt:""})],-1)),(0,s.Lk)("div",_,[i.noticias.length>0?((0,s.uX)(),(0,s.CE)("section",y,[(0,s.Lk)("div",C,[i.noticias.length>0?((0,s.uX)(),(0,s.Wv)(n,{key:0,to:"/noticias/"+i.noticias[0].id},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{class:"noticia-imagen-destacada",src:"http://localhost:3000"+i.noticias[0].imagenes[0],alt:""},null,8,S),(0,s.Lk)("div",E,(0,m.v_)(i.noticias[0].titulo),1)])),_:1},8,["to"])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",A,[(0,s.Lk)("div",w,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.noticias.slice(1),(a=>((0,s.uX)(),(0,s.Wv)(n,{to:"/noticias/"+a.id,key:a.id,class:"noticia-cuadrada"},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{class:"noticia-imagen",src:"http://localhost:3000"+a.imagenes[0],alt:""},null,8,I),(0,s.Lk)("div",F,(0,m.v_)(a.titulo),1)])),_:2},1032,["to"])))),128))]),(0,s.bF)(n,{class:"btn-css-underline text-top mt-2",to:"/noticias"},{default:(0,s.k6)((()=>e[0]||(e[0]=[(0,s.eW)("Ver Más")]))),_:1})])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",D,[(0,s.Lk)("div",x,[e[2]||(e[2]=(0,s.Lk)("h3",null,[(0,s.Lk)("strong",null,"Sobre el programa...")],-1)),e[3]||(e[3]=(0,s.eW)(" El programa provincial de Tarjetas Sociales está diseñado para asistir a personas en situación de vulnerabilidad estructural, quienes no cuentan con ingresos por trabajo activo, jubilación, pensión ni reciben la Tarjeta Alimentar Nacional. Este programa proporciona fondos destinados exclusivamente a la compra de alimentos de primera necesidad. ")),(0,s.Lk)("div",N,[(0,s.Lk)("div",T,[(0,s.bF)(n,{class:"white btn-css",to:"/requisitos"},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.eW)("VER REQUISITOS")]))),_:1})])])])]),(0,s.bF)(l)])}var U=o.p+"img/logo-gobierno.8a72dd30.png";const P={class:"footer"},X={class:"ancho-pag container-footer"},V={class:"footer-content"};function O(a,e,o,t,i,r){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("footer",P,[(0,s.Lk)("div",X,[e[2]||(e[2]=(0,s.Fv)('<div class="footer-header" data-v-ce69fde2><img class="img-footer" src="'+U+'" alt="" data-v-ce69fde2></div><div class="footer-content" data-v-ce69fde2><a class="link-pie" href="http://mdssde.gob.ar" target="__blank" data-v-ce69fde2>PÁGINA MINISTERIO</a><a href="https://www.facebook.com/profile.php?id=61552046130284" class="link-pie" data-v-ce69fde2>FACEBOOK</a></div>',2)),(0,s.Lk)("div",V,[(0,s.bF)(n,{class:"link-pie",to:"/contacto"},{default:(0,s.k6)((()=>e[0]||(e[0]=[(0,s.eW)("CONTACTO")]))),_:1}),e[1]||(e[1]=(0,s.Lk)("a",{href:"https://maps.app.goo.gl/XADPbVnJhzR3pyNd7",class:"link-pie",target:"__blank"},"DIRECCIÓN: SÁENZ PEÑA N° 340",-1))])])])}var $={};const q=(0,k.A)($,[["render",O],["__scopeId","data-v-ce69fde2"]]);var J=q,W={components:{PieComponent:J},data(){return{noticias:[]}},methods:{async fetchNoticias(){try{const a=await t.A.get("/noticias");this.noticias=a.data}catch(a){console.log("No se pudo obtener las noticias. ",a)}}},mounted(){this.fetchNoticias()}};const R=(0,k.A)(W,[["render",M],["__scopeId","data-v-206ba190"]]);var B=R;const Q={key:0,class:"pantalla-carga text-center"},z={key:1,class:"mensaje-container-fondo"},G={class:"mensaje-container"},H={class:"mensaje"},K={class:"total text-center"},Y={class:"form-container"},Z={class:"row"},aa={class:"col-md-12"},ea={class:"row"},oa={class:"col-md-12"},ta={class:"col-md-12 mt-4"};function ia(a,e,o,t,r,n){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[r.cargando?((0,s.uX)(),(0,s.CE)("div",Q,e[5]||(e[5]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,s.Lk)("div",{class:"texto-carga"},"Ingresando")],-1)]))):(0,s.Q3)("",!0),r.mensajePopup?((0,s.uX)(),(0,s.CE)("div",z,[(0,s.Lk)("div",G,[(0,s.Lk)("span",H,(0,m.v_)(r.mensaje),1),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>{this.mensajePopup=!1,this.mensaje=""})},"Ok")])])):(0,s.Q3)("",!0),(0,s.Lk)("div",K,[(0,s.Lk)("form",{class:"flex-container",onSubmit:e[4]||(e[4]=(0,i.D$)(((...a)=>n.login&&n.login(...a)),["prevent"]))},[e[9]||(e[9]=(0,s.Lk)("h2",{class:"titulo mt-4"},"Iniciar Sesión",-1)),(0,s.Lk)("div",Y,[(0,s.Lk)("div",Z,[(0,s.Lk)("div",aa,[e[6]||(e[6]=(0,s.Lk)("label",{class:"form-label",for:"usuario"},"Usuario",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control",type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>r.usuario.usuario=a),required:"",onInput:e[2]||(e[2]=(...a)=>n.restrictInput&&n.restrictInput(...a))},null,544),[[i.Jo,r.usuario.usuario]])])]),(0,s.Lk)("div",ea,[(0,s.Lk)("div",oa,[e[7]||(e[7]=(0,s.Lk)("label",{class:"form-label",for:"contraseña"},"Contraseña",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control",type:"password","onUpdate:modelValue":e[3]||(e[3]=a=>r.usuario.contraseña=a),required:""},null,512),[[i.Jo,r.usuario.contraseña]])])])]),e[10]||(e[10]=(0,s.Lk)("div",{class:"btn-container"},[(0,s.Lk)("button",{type:"submit",class:"btn btn-entrar"},"Entrar")],-1)),(0,s.Lk)("div",ta,[(0,s.bF)(l,{to:"/registrar"},{default:(0,s.k6)((()=>e[8]||(e[8]=[(0,s.eW)("Crear cuenta")]))),_:1})])],32)])])}var sa=o(595);const ra=(0,sa.A)();var na=ra,la={data(){return{mensajePopup:!1,mensaje:"",usuario:{usuario:"","contraseña":"",rol:""},cargando:!1}},methods:{restrictInput(a){const e=a.target.value,o=/[\s!@#$%^&*()_+=[\]{};':"\\|,<>?`´¨~¡/°¬¿]/g;o.test(e)&&(this.usuario.usuario=this.usuario.usuario.substring(0,this.usuario.usuario.length-1))},async login(){let a;this.cargando=!0;try{a=await t.A.post("/auth/login",this.usuario);const e={usuario:this.usuario.usuario,dni:a.data.dni,rol:a.data.rol};switch(localStorage.setItem("user",JSON.stringify(e)),na.emit("usuarioLogueado"),e.rol){case 0:an.push("/beneficiario");break;case 1:an.push("/empleado");break;case 2:an.push("/admin");break}}catch(e){this.mostrarMensaje(e.response?.data?.message||"Error al iniciar sesión")}finally{this.cargando=!1}},mostrarMensaje(a){this.mensaje=a,this.mensajePopup=!0}}};const ca=(0,k.A)(la,[["render",ia],["__scopeId","data-v-0975c95d"]]);var da=ca;const ua={key:0,class:"pantalla-carga text-center"},ma={key:1,class:"mensaje-container-fondo"},pa={class:"mensaje-container"},fa={class:"mensaje"},ha={class:"total text-center"},ba={class:"form-container"},va={class:"row"},ka={class:"col-md-6"},La={class:"col-md-6"},ga={class:"row"},ja={class:"col-md-6"},_a={class:"row"},ya={class:"col-md-6"},Ca={class:"col-md-6"},Sa={class:"col-md-12 mt-4"};function Ea(a,e,o,t,r,n){const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[r.cargando?((0,s.uX)(),(0,s.CE)("div",ua,e[8]||(e[8]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:"Logo"}),(0,s.Lk)("div",{class:"texto-carga"},"Registrando...")],-1)]))):(0,s.Q3)("",!0),r.mensajePopup?((0,s.uX)(),(0,s.CE)("div",ma,[(0,s.Lk)("div",pa,[(0,s.Lk)("span",fa,(0,m.v_)(r.mensaje),1),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>{this.mensajePopup=!1,this.mensaje=""})},"Ok")])])):(0,s.Q3)("",!0),(0,s.Lk)("div",ha,[(0,s.Lk)("form",{onSubmit:e[7]||(e[7]=(0,i.D$)(((...a)=>n.registrar&&n.registrar(...a)),["prevent"])),class:"flex-container"},[e[15]||(e[15]=(0,s.Lk)("h2",{class:"titulo mt-4"},"Registro de Usuario",-1)),(0,s.Lk)("div",ba,[(0,s.Lk)("div",va,[(0,s.Lk)("div",ka,[e[9]||(e[9]=(0,s.Lk)("label",{class:"form-label",for:"usuario"},"Nombre de Usuario",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control",id:"usuario",type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>r.usuario.usuario=a),required:"",onInput:e[2]||(e[2]=(...a)=>n.restrictInput&&n.restrictInput(...a))},null,544),[[i.Jo,r.usuario.usuario]])]),(0,s.Lk)("div",La,[e[10]||(e[10]=(0,s.Lk)("label",{class:"form-label",for:"correo"},"Correo",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control",id:"correo",type:"email","onUpdate:modelValue":e[3]||(e[3]=a=>r.usuario.correo=a)},null,512),[[i.Jo,r.usuario.correo]])])]),(0,s.Lk)("div",ga,[(0,s.Lk)("div",ja,[e[11]||(e[11]=(0,s.Lk)("label",{for:"dni",class:"form-label"},"DNI",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control",id:"dni",type:"number","onUpdate:modelValue":e[4]||(e[4]=a=>r.usuario.dni=a)},null,512),[[i.Jo,r.usuario.dni]])])]),(0,s.Lk)("div",_a,[(0,s.Lk)("div",ya,[e[12]||(e[12]=(0,s.Lk)("label",{class:"form-label",for:"contraseña"},"Contraseña",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control",id:"contraseña",type:"password","onUpdate:modelValue":e[5]||(e[5]=a=>r.usuario.contraseña=a),required:""},null,512),[[i.Jo,r.usuario.contraseña]])]),(0,s.Lk)("div",Ca,[e[13]||(e[13]=(0,s.Lk)("label",{class:"form-label",for:"contraseña2"},"Repetir Contraseña",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control",id:"contraseña2",type:"password","onUpdate:modelValue":e[6]||(e[6]=a=>r.contraseña_repetida=a),required:""},null,512),[[i.Jo,r.contraseña_repetida]])])])]),e[16]||(e[16]=(0,s.Lk)("div",{class:"btn-container"},[(0,s.Lk)("button",{type:"submit",class:"btn-mensaje"},"Registrar")],-1)),(0,s.Lk)("div",Sa,[(0,s.bF)(l,{to:"/login"},{default:(0,s.k6)((()=>e[14]||(e[14]=[(0,s.eW)("¿Ya tenés cuenta? Ingresá")]))),_:1})])],32)])])}var Aa={data(){return{mensajePopup:!1,mensaje:"","contraseña_repetida":"",usuario:{correo:"",usuario:"","contraseña":"",dni:""},cargando:!1}},methods:{restrictInput(a){const e=a.target.value,o=/[\s!@#$%^&*()_+=[\]{};':"\\|,<>?`´¨~¡/°¬¿]/g;o.test(e)&&(this.usuario.usuario=this.usuario.usuario.substring(0,this.usuario.usuario.length-1))},async registrar(){if(this.usuario.contraseña==this.contraseña_repetida){this.cargando=!0;try{await t.A.post("/auth/register",this.usuario),an.push("/login")}catch(a){this.mostrarMensaje(a.response.data.message)}finally{this.cargando=!1}}else this.mostrarMensaje("Las contraseñas no coinciden.")},mostrarMensaje(a){this.mensaje=a,this.mensajePopup=!0}}};const wa=(0,k.A)(Aa,[["render",Ea],["__scopeId","data-v-6e2c1a0e"]]);var Ia=wa;const Fa={class:"ancho-pag mt-4"},Da={class:"text-center"};function xa(a,e,o,t,i,r){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",Fa,[e[1]||(e[1]=(0,s.Fv)('<h3 class="text-center"><strong>Requisitos</strong></h3><p>Aquellas personas que busquen adherirse al programa de Tarjetas Sociales deberán:</p><ul><li>No contar con ingresos por trabajo activo.</li><li>No contar con ingresos por jubilación.</li><li>No contar con ingresos por pensión.</li><li>No contar con la Tarjeta Alimentar Nacional.</li></ul><p>Luego de cumplir con esos requerimientos, deberán contar con:</p><ol><li>Fotografía legible del DNI (anverso y reverso).</li><li>Fotografía o PDF del Historial médico.</li></ol>',5)),(0,s.Lk)("div",Da,[(0,s.bF)(n,{class:"btn-css c-black",to:"/solicitar-tarjeta"},{default:(0,s.k6)((()=>e[0]||(e[0]=[(0,s.Lk)("strong",null,"SOLICITAR TARJETA",-1)]))),_:1})])])])}var Na={components:{}};const Ta=(0,k.A)(Na,[["render",xa]]);var Ma=Ta;const Ua={class:"flex-inline"},Pa={key:0,class:"pantalla-carga text-center"};function Xa(a,e,o,t,i,r){const n=(0,s.g2)("SidebarBeneficiarioComponent"),l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",Ua,[i.cargando?((0,s.uX)(),(0,s.CE)("div",Pa,e[0]||(e[0]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:"Logo"}),(0,s.Lk)("div",{class:"texto-carga c-black"},"Cargando...")],-1)]))):(0,s.Q3)("",!0),(0,s.bF)(n,{"tiene-tarjeta":i.tieneTarjeta},null,8,["tiene-tarjeta"]),(0,s.bF)(l,{class:"vista","tiene-tarjeta":i.tieneTarjeta},null,8,["tiene-tarjeta"])])}const Va={key:0,class:"mensaje-container-fondo"},Oa={class:"mensaje-container"},$a={class:"modal-botones"},qa={class:"contenedor"},Ja={class:"contenedor-botones"},Wa={key:0},Ra={key:1};function Ba(a,e,o,t,i,r){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[i.mostrarModal?((0,s.uX)(),(0,s.CE)("div",Va,[(0,s.Lk)("div",Oa,[e[3]||(e[3]=(0,s.Lk)("span",{class:"mensaje"},"¿Cerrar sesión?",-1)),(0,s.Lk)("div",$a,[(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>this.mostrarModal=!1)},"No"),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[1]||(e[1]=(...a)=>r.cerrarSesion&&r.cerrarSesion(...a))},"Si")])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",qa,[(0,s.Lk)("div",Ja,[e[7]||(e[7]=(0,s.Lk)("a",{href:"/beneficiario",class:"sidebar-header"},[(0,s.Lk)("img",{src:"/recursos/logomds.png",class:"mv-auto img-logo",alt:""}),(0,s.Lk)("h4",{class:"white text-center"},[(0,s.eW)("Tarjetas"),(0,s.Lk)("br"),(0,s.eW)("Sociales")])],-1)),e[8]||(e[8]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",null,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/beneficiario"==a.$route.path}]),to:"/beneficiario"},{default:(0,s.k6)((()=>e[4]||(e[4]=[(0,s.eW)("Inicio")]))),_:1},8,["class"])]),o.tieneTarjeta&&"PENDIENTE"!=o.tieneTarjeta?((0,s.uX)(),(0,s.CE)("div",Wa,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/beneficiario/tarjeta"===a.$route.path}]),to:"/beneficiario/tarjeta"},{default:(0,s.k6)((()=>e[5]||(e[5]=[(0,s.eW)("Mi Tarjeta")]))),_:1},8,["class"])])):((0,s.uX)(),(0,s.CE)("div",Ra,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/beneficiario/solicitud"===a.$route.path}]),to:"/beneficiario/solicitud"},{default:(0,s.k6)((()=>e[6]||(e[6]=[(0,s.eW)("Solicitud")]))),_:1},8,["class"])])),(0,s.Lk)("button",{class:"item-btn mt-4",onClick:e[2]||(e[2]=(...a)=>r.cerrarSesionModal&&r.cerrarSesionModal(...a))},"Cerrar Sesión")])])])}var Qa={data(){return{mostrarModal:!1}},props:{tieneTarjeta:{type:String,default:null}},methods:{cerrarSesionModal(){this.mostrarModal=!0},cerrarSesion(){this.mostrarModal=!1,localStorage.clear(),na.emit("usuarioDeslogueado"),an.push("/")}}};const za=(0,k.A)(Qa,[["render",Ba],["__scopeId","data-v-6f74a054"]]);var Ga=za,Ha={components:{SidebarBeneficiarioComponent:Ga},data(){return{cargando:!1,tieneTarjeta:null}},methods:{async verificarTarjeta(){this.cargando=!0;const a=JSON.parse(localStorage.getItem("user")).dni;try{const e=await t.A.get("/beneficiarios/verificarTarjeta",{params:{dni:a}});this.tieneTarjeta=e.data.estado,localStorage.setItem("tieneTarjeta",this.tieneTarjeta)}catch(e){console.log("No tiene tarjeta.")}finally{this.cargando=!1}}},mounted(){this.verificarTarjeta()}};const Ka=(0,k.A)(Ha,[["render",Xa],["__scopeId","data-v-535652f4"]]);var Ya=Ka;const Za={class:"vista"},ae={class:"container"},ee={class:"mt-2"},oe={class:"tarjetas-inicio"};function te(a,e,o,t,i,r){return(0,s.uX)(),(0,s.CE)("div",Za,[(0,s.Lk)("div",ae,[(0,s.Lk)("h3",ee,"Bienvenid@, "+(0,m.v_)(i.usuario.usuario?.toUpperCase()),1),e[4]||(e[4]=(0,s.Lk)("p",{class:"lead"},"Desde aquí podés acceder a las principales funciones de gestión del sistema.",-1)),(0,s.Lk)("div",oe,[o.tieneTarjeta&&"PENDIENTE"!=o.tieneTarjeta?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"card acceso",onClick:e[0]||(e[0]=e=>a.$router.push("/beneficiario/tarjeta"))},e[2]||(e[2]=[(0,s.Lk)("h5",null,"Mi Tarjeta",-1),(0,s.Lk)("p",null,"Ver información sobre mi Tarjeta Social.",-1)]))):((0,s.uX)(),(0,s.CE)("div",{key:1,class:"card acceso",onClick:e[1]||(e[1]=e=>a.$router.push("/beneficiario/solicitud"))},e[3]||(e[3]=[(0,s.Lk)("h5",null,"Solicitud",-1),(0,s.Lk)("p",null,"Solicitar o ver el estado de la solicitud de Tarjeta Social.",-1)])))])])])}var ie={data(){return{usuario:""}},props:{tieneTarjeta:{type:String,default:null}},mounted(){this.usuario=JSON.parse(localStorage.getItem("user"))}};const se=(0,k.A)(ie,[["render",te],["__scopeId","data-v-6699d44a"]]);var re=se;const ne={class:"vista"},le={key:0,class:"pantalla-carga text-center"},ce={key:1,class:"mensaje-container-fondo"},de={class:"mensaje-container"},ue={class:"mensaje"},me={class:"container",id:"datosTarjeta"},pe={class:"tarjeta-grid"},fe={class:"dato"},he={class:"valor"},be={class:"dato"},ve={class:"valor"},ke={class:"dato"},Le={class:"valor"},ge={class:"dato"},je={class:"valor"},_e={class:"dato"},ye={class:"valor"},Ce={class:"dato"},Se={class:"dato"},Ee={class:"valor"},Ae={key:0,class:"historial-container"},we={class:"historial"},Ie={class:"acciones"};function Fe(a,e,o,t,i,r){return(0,s.uX)(),(0,s.CE)("div",ne,[i.cargando?((0,s.uX)(),(0,s.CE)("div",le,e[2]||(e[2]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:"Logo"}),(0,s.Lk)("div",{class:"texto-carga"},"Cargando...")],-1)]))):(0,s.Q3)("",!0),i.mensajePopup?((0,s.uX)(),(0,s.CE)("div",ce,[(0,s.Lk)("div",de,[(0,s.Lk)("span",ue,(0,m.v_)(i.mensaje),1),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>{this.mensajePopup=!1,this.mensaje=""})}," Ok ")])])):(0,s.Q3)("",!0),(0,s.Lk)("div",me,[e[11]||(e[11]=(0,s.Lk)("h3",{class:"mt-2"},"Datos de Tarjeta Social",-1)),(0,s.Lk)("div",pe,[(0,s.Lk)("div",fe,[e[3]||(e[3]=(0,s.Lk)("span",{class:"label"},"DNI",-1)),(0,s.Lk)("span",he,(0,m.v_)(i.tarjeta.dni),1)]),(0,s.Lk)("div",be,[e[4]||(e[4]=(0,s.Lk)("span",{class:"label"},"Número de Cuenta",-1)),(0,s.Lk)("span",ve,(0,m.v_)(i.tarjeta.num_cuenta||"####-####-####-####"),1)]),(0,s.Lk)("div",ke,[e[5]||(e[5]=(0,s.Lk)("span",{class:"label"},"Número de Tarjeta",-1)),(0,s.Lk)("span",Le,(0,m.v_)(i.tarjeta.num_tarjeta||"####-####-####-####"),1)]),(0,s.Lk)("div",ge,[e[6]||(e[6]=(0,s.Lk)("span",{class:"label"},"Fecha de Registro",-1)),(0,s.Lk)("span",je,(0,m.v_)(i.tarjeta.fecha_registro),1)]),(0,s.Lk)("div",_e,[e[7]||(e[7]=(0,s.Lk)("span",{class:"label"},"Fecha de Modificación",-1)),(0,s.Lk)("span",ye,(0,m.v_)(i.tarjeta.fecha_modificacion),1)]),(0,s.Lk)("div",Ce,[e[8]||(e[8]=(0,s.Lk)("span",{class:"label"},"Estado",-1)),(0,s.Lk)("span",{class:(0,m.C4)(["valor estado","estado-"+i.tarjeta.estado.toLowerCase()])},(0,m.v_)(i.tarjeta.estado),3)]),(0,s.Lk)("div",Se,[e[9]||(e[9]=(0,s.Lk)("span",{class:"label"},"Importe Acreditado",-1)),(0,s.Lk)("span",Ee,(0,m.v_)(i.tarjeta.importe_acreditado?"$"+i.tarjeta.importe_acreditado:"####"),1)])]),i.tarjeta.historias.length>0?((0,s.uX)(),(0,s.CE)("div",Ae,[e[10]||(e[10]=(0,s.Lk)("h3",{class:"subtitulo"},"Historial",-1)),(0,s.Lk)("div",we,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.tarjeta.historias,((a,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:"historia-item"},[(0,s.Lk)("strong",null,(0,m.v_)(a.fecha+" - "),1),(0,s.Lk)("span",null,(0,m.v_)(a.observaciones),1)])))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("div",Ie,[(0,s.Lk)("button",{type:"button",class:"btn-imprimir",onClick:e[1]||(e[1]=(...a)=>r.imprimir&&r.imprimir(...a))},"Imprimir")])])])}var De=o(1749),xe={data(){return{cargando:!1,mensajePopup:!1,mensaje:"",tarjeta:{dni:"",num_cuenta:"",num_tarjeta:"",fecha_registro:"",estado:"",fecha_modificacion:"",importe_acreditado:"",observaciones:"",historias:[]}}},methods:{async fetchTarjeta(){this.cargando=!0;try{const a=await t.A.get("tarjetas/getDatos",{params:{dni:JSON.parse(localStorage.getItem("user")).dni}});this.tarjeta=a.data}finally{this.cargando=!1}},async imprimir(){const a=new De.Ay,e=8;let o=20;const t=(t,i)=>{a.setFont("Helvetica","bold"),a.text(`${t}:`,20,o),a.setFont("Helvetica","normal"),a.text(`${i||"-"}`,80,o),a.setFontSize(11),o+=e},i=(e,o,t=11)=>{a.setFontSize(t),a.setFont("Helvetica","bold");const i=a.getStringUnitWidth(e)*t/a.internal.scaleFactor,s=(a.internal.pageSize.getWidth()-i)/2;a.text(e,s,o)},s=a=>fetch(a).then((a=>a.blob())).then((a=>new Promise((e=>{const o=new FileReader;o.onloadend=()=>e(o.result),o.readAsDataURL(a)})))),r=await s("/recursos/icono-mds-negro.png"),n=await s("/recursos/icono-gobierno.png");a.addImage(r,"PNG",30,10,60,15),a.addImage(n,"PNG",150,10,15,15),a.setFont("Helvetica","normal"),a.setFontSize(11),a.text("SANTIAGO DEL ESTERO",160,35,{align:"center"});const l=this.capitalize((new Date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}));a.text(l,160,40,{align:"center"}),o=50,i("DATOS DE TARJETA SOCIAL",o),o+=2*e,t("DNI",this.tarjeta.dni),t("Número de Cuenta",this.tarjeta.num_cuenta||"####-####-####-####"),t("Número de Tarjeta",this.tarjeta.num_tarjeta||"####-####-####-####"),t("Fecha de Registro",this.tarjeta.fecha_registro),t("Fecha de Modificación",this.tarjeta.fecha_modificacion),t("Estado",this.tarjeta.estado),t("Importe Acreditado",this.tarjeta.importe_acreditado?"$"+this.tarjeta.importe_acreditado:"####"),o+=e,this.tarjeta.historias&&this.tarjeta.historias.length>0&&(a.setFont("Helvetica","bold"),a.text("-- Historial --",20,o),o+=e,a.setFont("Helvetica","normal"),this.tarjeta.historias.forEach((t=>{a.text(`${t.fecha}: ${t.observaciones}`,25,o),o+=e,o>270&&(a.addPage(),o=20)})),o+=e),a.save(`tarjeta_social_${this.tarjeta.dni}.pdf`)},capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)}},mounted(){this.fetchTarjeta()}};const Ne=(0,k.A)(xe,[["render",Fe],["__scopeId","data-v-e10e99da"]]);var Te=Ne;const Me={class:"vista"},Ue={key:0,class:"pantalla-carga text-center"},Pe={key:1,class:"mensaje-container-fondo"},Xe={class:"mensaje-container"},Ve={class:"mensaje"},Oe={key:2,class:"container"},$e={class:"fila"},qe={class:"w-5"},Je={class:"flex-cuil"},We={class:"input-group-text cuil-medio"},Re={class:"w-5"},Be={class:"fila"},Qe={class:"w-5"},ze={class:"w-5"},Ge={class:"fila"},He={class:"w-5"},Ke={class:"w-5"},Ye={class:"fila"},Ze={class:"w-5"},ao=["value"],eo={class:"w-5"},oo=["disabled"],to=["value"],io={class:"fila"},so={class:"w-5"},ro=["disabled"],no=["value"],lo={class:"w-5"},co={class:"fila"},uo={class:"w-5"},mo=["for"],po=["name","onUpdate:modelValue"],fo={class:"w-5"},ho=["for"],bo=["name","onUpdate:modelValue"],vo={class:"fila"},ko={class:"w-5"},Lo=["for"],go=["name","onUpdate:modelValue"],jo={class:"w-5"},_o=["for"],yo=["name","onUpdate:modelValue"],Co={key:3,class:"container"},So={class:"solicitud-detalle"},Eo={class:"solicitud-info"},Ao={class:"info-item"},wo={class:"value"},Io={class:"info-item"},Fo={class:"value"},Do={class:"info-item"},xo={class:"value"},No={key:0,class:"historial"};function To(a,e,o,t,r,n){return(0,s.uX)(),(0,s.CE)("div",Me,[r.cargando?((0,s.uX)(),(0,s.CE)("div",Ue,e[17]||(e[17]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:"Logo"}),(0,s.Lk)("div",{class:"texto-carga"},"Cargando")],-1)]))):(0,s.Q3)("",!0),r.mensajePopup?((0,s.uX)(),(0,s.CE)("div",Pe,[(0,s.Lk)("div",Xe,[(0,s.Lk)("span",Ve,(0,m.v_)(a.mensaje),1),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>{this.mensajePopup=!1,this.mensaje=""})},"Ok")])])):(0,s.Q3)("",!0),"PENDIENTE"!=o.tieneTarjeta?((0,s.uX)(),(0,s.CE)("div",Oe,[e[35]||(e[35]=(0,s.Lk)("h3",{class:"mt-2"},"Solicitar Tarjeta",-1)),(0,s.Lk)("form",{onSubmit:e[16]||(e[16]=(0,i.D$)(((...a)=>n.solicitar&&n.solicitar(...a)),["prevent"])),class:"formulario-beneficiario"},[(0,s.Lk)("div",$e,[(0,s.Lk)("div",qe,[e[18]||(e[18]=(0,s.Lk)("label",{for:"cuil",class:"form-label"},"CUIL",-1)),(0,s.Lk)("div",Je,[(0,s.bo)((0,s.Lk)("input",{class:"form-control text-center cuil-lado",maxlength:"2",type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>r.cuilInicio=a),onInput:e[2]||(e[2]=(...a)=>n.updateCuil&&n.updateCuil(...a)),style:{"max-width":"3em"},required:""},null,544),[[i.Jo,r.cuilInicio]]),(0,s.Lk)("span",We,(0,m.v_)(r.usuario.dni),1),(0,s.bo)((0,s.Lk)("input",{class:"form-control text-center cuil-lado",maxlength:"1",type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>r.cuilFin=a),onInput:e[4]||(e[4]=(...a)=>n.updateCuil&&n.updateCuil(...a)),style:{"max-width":"3em"},required:""},null,544),[[i.Jo,r.cuilFin]])])]),(0,s.Lk)("div",Re,[e[19]||(e[19]=(0,s.Lk)("label",{for:"nombre",class:"form-label"},"Nombre completo",-1)),(0,s.bo)((0,s.Lk)("input",{id:"nombre",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>r.usuario.nombre=a),type:"text"},null,512),[[i.Jo,r.usuario.nombre]])])]),(0,s.Lk)("div",Be,[(0,s.Lk)("div",Qe,[e[20]||(e[20]=(0,s.Lk)("label",{class:"form-label",for:"telefono"},"Teléfono",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control",type:"number","onUpdate:modelValue":e[6]||(e[6]=a=>r.usuario.telefono=a),required:""},null,512),[[i.Jo,r.usuario.telefono]])]),(0,s.Lk)("div",ze,[e[22]||(e[22]=(0,s.Lk)("label",{for:"sexo",class:"form-label"},"Sexo",-1)),(0,s.bo)((0,s.Lk)("select",{id:"sexo",class:"form-select","onUpdate:modelValue":e[7]||(e[7]=a=>r.usuario.sexo=a)},e[21]||(e[21]=[(0,s.Lk)("option",{disabled:"",value:"default"},"Seleccione",-1),(0,s.Lk)("option",{value:"F"},"Femenino",-1),(0,s.Lk)("option",{value:"M"},"Masculino",-1)]),512),[[i.u1,r.usuario.sexo]])])]),(0,s.Lk)("div",Ge,[(0,s.Lk)("div",He,[e[23]||(e[23]=(0,s.Lk)("label",{class:"form-label",for:"fecha_nacimiento"},"Fecha de Nacimiento",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control",type:"date","onUpdate:modelValue":e[8]||(e[8]=a=>r.usuario.fecha_nacimiento=a),required:""},null,512),[[i.Jo,r.usuario.fecha_nacimiento]])]),(0,s.Lk)("div",Ke,[e[24]||(e[24]=(0,s.Lk)("label",{class:"form-label",for:"cant_parientes"},"Cantidad de parientes",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=a=>r.usuario.cant_parientes=a),required:""},null,512),[[i.Jo,r.usuario.cant_parientes]])])]),e[33]||(e[33]=(0,s.Fv)('<div class="fila" data-v-4b4e8b01><div class="w-5" data-v-4b4e8b01><label for="archivo-dni" class="form-label" data-v-4b4e8b01>Foto/PDF del DNI</label><input class="form-control" name="archivo-dni" type="file" accept=".jpeg, .png, .pdf" required data-v-4b4e8b01></div><div class="w-5" data-v-4b4e8b01><label for="archivo-historial-medico" class="form-label" data-v-4b4e8b01>Foto/PDF del Historial Médico</label><input class="form-control" name="archivo-historial-medico" type="file" accept=".jpeg, .png, .pdf" required data-v-4b4e8b01></div></div>',1)),(0,s.Lk)("div",Ye,[(0,s.Lk)("div",Ze,[e[26]||(e[26]=(0,s.Lk)("label",{class:"form-label",for:"departamento"},"Departamento",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":e[10]||(e[10]=a=>r.usuario.departamento=a),onChange:e[11]||(e[11]=a=>n.fetchLocalidades(r.usuario.departamento)),required:""},[e[25]||(e[25]=(0,s.Lk)("option",{value:"default",disabled:""},"Seleccionar",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.departamentos,((a,e)=>((0,s.uX)(),(0,s.CE)("option",{value:a.cod_dpto,key:e},(0,m.v_)(a.descripcion),9,ao)))),128))],544),[[i.u1,r.usuario.departamento]])]),(0,s.Lk)("div",eo,[e[28]||(e[28]=(0,s.Lk)("label",{class:"form-label",for:"localidad"},"Localidad",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":e[12]||(e[12]=a=>r.usuario.localidad=a),disabled:!("default"!=r.usuario.departamento),onChange:e[13]||(e[13]=a=>n.fetchBarrios(r.usuario.localidad)),required:""},[e[27]||(e[27]=(0,s.Lk)("option",{value:"default",disabled:""},"Seleccionar",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.localidades,((a,e)=>((0,s.uX)(),(0,s.CE)("option",{value:a.cod_localidad,key:e},(0,m.v_)(a.descripcion),9,to)))),128))],40,oo),[[i.u1,r.usuario.localidad]])])]),(0,s.Lk)("div",io,[(0,s.Lk)("div",so,[e[30]||(e[30]=(0,s.Lk)("label",{class:"form-label",for:"barrio"},"Barrio",-1)),(0,s.bo)((0,s.Lk)("select",{class:"form-select","onUpdate:modelValue":e[14]||(e[14]=a=>r.usuario.barrio=a),disabled:!("default"!=r.usuario.localidad),required:""},[e[29]||(e[29]=(0,s.Lk)("option",{value:"default",disabled:""},"Seleccionar",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.barrios,((a,e)=>((0,s.uX)(),(0,s.CE)("option",{value:a.cod_barrio,key:e},(0,m.v_)(a.descripcion),9,no)))),128))],8,ro),[[i.u1,r.usuario.barrio]])]),(0,s.Lk)("div",lo,[e[31]||(e[31]=(0,s.Lk)("label",{for:"domicilio",class:"form-label"},"Domicilio",-1)),(0,s.bo)((0,s.Lk)("input",{id:"domicilio",class:"form-control","onUpdate:modelValue":e[15]||(e[15]=a=>r.usuario.domicilio=a),type:"text",required:""},null,512),[[i.Jo,r.usuario.domicilio]])])]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.usuario.cant_parientes,(a=>((0,s.uX)(),(0,s.CE)("div",{class:"form-container",key:a},[(0,s.Lk)("h5",null,"Pariente "+(0,m.v_)(a),1),(0,s.Lk)("div",co,[(0,s.Lk)("div",uo,[(0,s.Lk)("label",{class:"form-label",for:"nom-pariente"+a},"Nombre y Apellido",8,mo),(0,s.bo)((0,s.Lk)("input",{type:"text",name:"nom-pariente"+a,class:"form-control","onUpdate:modelValue":e=>r.parientes[a-1].nombre_pariente=e,required:""},null,8,po),[[i.Jo,r.parientes[a-1].nombre_pariente]])]),(0,s.Lk)("div",fo,[(0,s.Lk)("label",{class:"form-label",for:"dni-pariente"+a},"DNI",8,ho),(0,s.bo)((0,s.Lk)("input",{type:"number",name:"dni-pariente"+a,class:"form-control","onUpdate:modelValue":e=>r.parientes[a-1].dni_pariente=e,required:""},null,8,bo),[[i.Jo,r.parientes[a-1].dni_pariente]])])]),(0,s.Lk)("div",vo,[(0,s.Lk)("div",ko,[(0,s.Lk)("label",{class:"form-label",for:"sexo-pariente"+a},"Sexo",8,Lo),(0,s.bo)((0,s.Lk)("select",{name:"sexo-pariente"+a,class:"form-select","onUpdate:modelValue":e=>r.parientes[a-1].sexo_pariente=e,required:""},e[32]||(e[32]=[(0,s.Lk)("option",{value:"default",disabled:"",selected:""},"Seleccionar",-1),(0,s.Lk)("option",{value:"f"},"Femenino",-1),(0,s.Lk)("option",{value:"m"},"Masculino",-1),(0,s.Lk)("option",{value:"n"},"No binario",-1)]),8,go),[[i.u1,r.parientes[a-1].sexo_pariente]])]),(0,s.Lk)("div",jo,[(0,s.Lk)("label",{class:"form-label",for:"fecha-nacimiento-pariente"+a},"Fecha de Nacimiento",8,_o),(0,s.bo)((0,s.Lk)("input",{type:"date",name:"fecha-nacimiento-pariente"+a,class:"form-control","onUpdate:modelValue":e=>r.parientes[a-1].fecha_nacimiento_pariente=e,required:""},null,8,yo),[[i.Jo,r.parientes[a-1].fecha_nacimiento_pariente]])])])])))),128)),e[34]||(e[34]=(0,s.Lk)("div",{class:"fila m-4"},[(0,s.Lk)("button",{type:"submit",class:"btn-mensaje"},"Solicitar")],-1))],32)])):((0,s.uX)(),(0,s.CE)("div",Co,[e[41]||(e[41]=(0,s.Lk)("h3",{class:"mt-2"},"Estado de la Solicitud",-1)),(0,s.Lk)("div",So,[(0,s.Lk)("div",Eo,[(0,s.Lk)("div",Ao,[e[36]||(e[36]=(0,s.Lk)("span",{class:"label"},"Número de Solicitud",-1)),(0,s.Lk)("span",wo,(0,m.v_)(r.solicitud.id),1)]),(0,s.Lk)("div",Io,[e[37]||(e[37]=(0,s.Lk)("span",{class:"label"},"Estado",-1)),(0,s.Lk)("span",Fo,(0,m.v_)(r.solicitud.estado),1)]),(0,s.Lk)("div",Do,[e[38]||(e[38]=(0,s.Lk)("span",{class:"label"},"Fecha de Solicitud",-1)),(0,s.Lk)("span",xo,(0,m.v_)(n.formatearFecha(r.solicitud.fecha_solicitud)),1)])]),r.solicitud.historial&&r.solicitud.historial.length?((0,s.uX)(),(0,s.CE)("div",No,[e[39]||(e[39]=(0,s.Lk)("h3",{class:"historial-titulo"},"Historial",-1)),e[40]||(e[40]=(0,s.Lk)("div",{class:"historial-encabezado"},[(0,s.Lk)("span",null,"Observaciones"),(0,s.Lk)("span",null,"Fecha")],-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.solicitud.historial,((a,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:"historial-item"},[(0,s.Lk)("span",null,(0,m.v_)(a.observaciones),1),(0,s.Lk)("span",null,(0,m.v_)(n.formatearFecha(a.fecha)),1)])))),128))])):(0,s.Q3)("",!0)])]))])}var Mo={data(){return{cuilInicio:"",cuilFin:"",cargando:!1,mensajePopup:!1,usuario:{nombre:"",dni:"",cuil:"",sexo:"default",telefono:"",fecha_nacimiento:"",cant_parientes:0,localidad:"default",departamento:"default",barrio:"default",domicilio:""},parientes:[],localidades:[],departamentos:[],barrios:[],solicitud:""}},props:{tieneTarjeta:{type:String,default:null}},watch:{"usuario.cant_parientes"(a){a<0?this.usuario.cant_parientes=0:this.parientes=Array.from({length:a},((a,e)=>({nombre_pariente:this.parientes[e]?.nombre_pariente||"",dni_pariente:this.parientes[e]?.dni_pariente||"",fecha_nacimiento_pariente:this.parientes[e]?.fecha_nacimiento_pariente||"",sexo_pariente:this.parientes[e]?.sexo_pariente||""})))}},methods:{formatearFecha(a){return new Date(a).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"2-digit"})},updateCuil(){const a=this.cuilInicio.padStart(2,"0").slice(0,2),e=this.cuilFin.slice(0,1),o=this.usuario.dni;this.usuario.cuil=`${a}${o}${e}`},restrictInput(a){const e=a.target.value,o=/[\s!@#$%^&*()_+=[\]{};':"\\|,<>?`´¨~¡/°¬¿]/g;o.test(e)&&(this.usuario.usuario=this.usuario.usuario.substring(0,this.usuario.usuario.length-1))},async solicitar(){this.cargando=!0;try{const a=new FormData;for(const t in this.usuario)a.append(t,this.usuario[t]);a.append("parientes",JSON.stringify(this.parientes));const e=this.$el.querySelector('input[name="archivo-dni"]').files[0],o=this.$el.querySelector('input[name="archivo-historial-medico"]').files[0];e&&a.append("dni",e),o&&a.append("historial",o),await t.A.post("/tarjetas/solicitar",a,{headers:{"Content-Type":"multipart/form-data"}}),an.push("/beneficiario")}catch(a){this.mensajePopup=!0,this.mensaje="Error al solicitar: "+a}finally{this.cargando=!1}},async fetchDepartamentos(){try{const a=await t.A.get("/get/departamentos");this.departamentos=a.data}catch(a){console.error(a)}},async fetchLocalidades(a){try{const e=await t.A.get(`/get/localidades/${a}`);this.localidades=e.data,this.usuario.localidad="default",this.usuario.barrio="default"}catch(e){console.error(e)}},async fetchBarrios(a){try{const e=await t.A.get(`/get/barrios/${a}`);this.barrios=e.data,this.usuario.barrio="default"}catch(e){console.error(e)}},async fetchSolicitud(){try{const a=await t.A.get("/tarjetas/getSolicitud",{params:{dni:this.usuario.dni}});this.solicitud=a.data}catch(a){console.log(a.response.data)}},async fetchDatos(){this.cargando=!0;try{const a=await t.A.get("/beneficiarios/getDatosPadron",{params:{dni:this.usuario.dni}});Object.assign(this.usuario,a.data)}catch(a){console.log(a)}finally{this.cargando=!1}}},async mounted(){await this.fetchDepartamentos(),this.usuario.dni=await JSON.parse(localStorage.getItem("user")).dni,null!=localStorage.getItem("tieneTarjeta")?await this.fetchSolicitud():await this.fetchDatos()}};const Uo=(0,k.A)(Mo,[["render",To],["__scopeId","data-v-4b4e8b01"]]);var Po=Uo;const Xo={class:"flex-inline"};function Vo(a,e,o,t,i,r){const n=(0,s.g2)("SidebarEmpleadoComponent"),l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",Xo,[(0,s.bF)(n),(0,s.bF)(l,{class:"vista"})])}const Oo={key:0,class:"mensaje-container-fondo"},$o={class:"mensaje-container"},qo={class:"modal-botones"},Jo={class:"contenedor"},Wo={class:"contenedor-botones"};function Ro(a,e,o,t,i,r){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[i.mostrarModal?((0,s.uX)(),(0,s.CE)("div",Oo,[(0,s.Lk)("div",$o,[e[3]||(e[3]=(0,s.Lk)("span",{class:"mensaje"},"¿Cerrar sesión?",-1)),(0,s.Lk)("div",qo,[(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>this.mostrarModal=!1)},"No"),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[1]||(e[1]=(...a)=>r.cerrarSesion&&r.cerrarSesion(...a))},"Si")])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",Jo,[(0,s.Lk)("div",Wo,[e[9]||(e[9]=(0,s.Lk)("a",{href:"/empleado",class:"sidebar-header"},[(0,s.Lk)("img",{src:"/recursos/logomds.png",class:"mv-auto img-logo",alt:""}),(0,s.Lk)("h4",{class:"white text-center"},[(0,s.eW)("Tarjetas"),(0,s.Lk)("br"),(0,s.eW)("Sociales")])],-1)),e[10]||(e[10]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",null,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/empleado"==a.$route.path}]),to:"/empleado"},{default:(0,s.k6)((()=>e[4]||(e[4]=[(0,s.eW)("Inicio")]))),_:1},8,["class"])]),(0,s.Lk)("div",null,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/empleado/solicitudes"===a.$route.path}]),to:"/empleado/solicitudes"},{default:(0,s.k6)((()=>e[5]||(e[5]=[(0,s.eW)("Solicitudes")]))),_:1},8,["class"])]),(0,s.Lk)("div",null,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/empleado/beneficiarios"===a.$route.path}]),to:"/empleado/beneficiarios"},{default:(0,s.k6)((()=>e[6]||(e[6]=[(0,s.eW)("Beneficiarios")]))),_:1},8,["class"])]),(0,s.Lk)("div",null,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/empleado/tarjetas"===a.$route.path}]),to:"/empleado/tarjetas"},{default:(0,s.k6)((()=>e[7]||(e[7]=[(0,s.eW)("Tarjetas")]))),_:1},8,["class"])]),(0,s.Lk)("div",null,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/empleado/informes"===a.$route.path}]),to:"/empleado/informes"},{default:(0,s.k6)((()=>e[8]||(e[8]=[(0,s.eW)("Informes")]))),_:1},8,["class"])]),(0,s.Lk)("button",{class:"item-btn mt-4",onClick:e[2]||(e[2]=(...a)=>r.cerrarSesionModal&&r.cerrarSesionModal(...a))},"Cerrar Sesión")])])])}var Bo={data(){return{mostrarModal:!1}},methods:{cerrarSesionModal(){this.mostrarModal=!0},cerrarSesion(){this.mostrarModal=!1,localStorage.clear(),na.emit("usuarioDeslogueado"),an.push("/")}}};const Qo=(0,k.A)(Bo,[["render",Ro],["__scopeId","data-v-c195f890"]]);var zo=Qo,Go=o(1714),Ho={components:{SidebarEmpleadoComponent:zo},mounted(){const a=(0,Go.io)("https://nazadoto.com:3500");a.on("nueva_solicitud",(a=>{console.log("Nueva solicitud:",a),this.mostrarNotificacion(a)}))},methods:{async mostrarNotificacion(a){"granted"!==Notification.permission&&await Notification.requestPermission(),"granted"===Notification.permission&&new Notification("Nueva solicitud de Tarjeta Social",{body:`${a.nombre} (DNI: ${a.dni}) ha realizado una solicitud.`,icon:"/img/icono-mds.png"})}}};const Ko=(0,k.A)(Ho,[["render",Vo],["__scopeId","data-v-d4bdef16"]]);var Yo=Ko;const Zo={class:"vista"},at={class:"container"},et={class:"mt-2"},ot={class:"tarjetas-inicio"};function tt(a,e,o,t,i,r){return(0,s.uX)(),(0,s.CE)("div",Zo,[(0,s.Lk)("div",at,[(0,s.Lk)("h3",et,"Bienvenid@, "+(0,m.v_)(i.usuario.usuario?.toUpperCase()),1),e[8]||(e[8]=(0,s.Lk)("p",{class:"lead"},"Desde aquí podés acceder a las principales funciones de gestión del sistema.",-1)),(0,s.Lk)("div",ot,[(0,s.Lk)("div",{class:"card acceso",onClick:e[0]||(e[0]=e=>a.$router.push("/empleado/solicitudes"))},e[4]||(e[4]=[(0,s.Lk)("h5",null,"Gestión de Solicitudes",-1),(0,s.Lk)("p",null,"Evaluar, aprobar o rechazar solicitudes.",-1)])),(0,s.Lk)("div",{class:"card acceso",onClick:e[1]||(e[1]=e=>a.$router.push("/empleado/beneficiarios"))},e[5]||(e[5]=[(0,s.Lk)("h5",null,"Gestión de Beneficiarios",-1),(0,s.Lk)("p",null,"Agregar, modificar o buscar beneficiarios registrados.",-1)])),(0,s.Lk)("div",{class:"card acceso",onClick:e[2]||(e[2]=e=>a.$router.push("/empleado/tarjetas"))},e[6]||(e[6]=[(0,s.Lk)("h5",null,"Gestión de Tarjetas",-1),(0,s.Lk)("p",null,"Registrar y actualizar información de tarjetas sociales.",-1)])),(0,s.Lk)("div",{class:"card acceso",onClick:e[3]||(e[3]=e=>a.$router.push("/empleado/informes"))},e[7]||(e[7]=[(0,s.Lk)("h5",null,"Generar Informes",-1),(0,s.Lk)("p",null,"Obtener reportes de beneficiarios y tarjetas.",-1)]))])])])}var it={data(){return{usuario:""}},mounted(){this.usuario=JSON.parse(localStorage.getItem("user"))}};const st=(0,k.A)(it,[["render",tt],["__scopeId","data-v-564e87c2"]]);var rt=st;const nt={class:"vista"},lt={key:0,class:"pantalla-carga-vista text-center"},ct={key:1,class:"mensaje-container-fondo"},dt={class:"mensaje-container"},ut={class:"mensaje"},mt={key:2,class:"mensaje-container-fondo"},pt={class:"mensaje-container"},ft={class:"flex"},ht={class:"container"},bt={class:"fila"},vt={class:"w-5"},kt={class:"btns-comprobar"},Lt=["disabled"],gt=["disabled"],jt={class:"fila"},_t={class:"w-100"},yt=["disabled"],Ct={class:"fila"},St={class:"w-5"},Et=["disabled"],At={class:"w-5"},wt={class:"input-group"},It=["disabled"],Ft={class:"input-group-text"},Dt=["disabled"],xt={class:"fila"},Nt={class:"w-3"},Tt=["disabled"],Mt={class:"w-3"},Ut=["disabled"],Pt={class:"w-3"},Xt=["disabled"],Vt={class:"fila"},Ot={class:"w-3"},$t=["disabled"],qt=["value"],Jt={class:"w-3"},Wt=["disabled"],Rt=["value"],Bt={class:"w-3"},Qt=["disabled"],zt=["value"],Gt={class:"fila"},Ht={class:"w-5"},Kt=["disabled"],Yt={class:"w-5"},Zt=["disabled"],ai={class:"fila"},ei={class:"w-5"},oi=["disabled"],ti={class:"w-5"},ii=["disabled"],si={class:"fila"},ri={key:0,class:"w-100"},ni={class:"historial"},li={class:"fila mt-2"},ci={class:"w-5 ml-auto"},di=["disabled"],ui={key:0,class:"vista-previa"},mi={class:"archivo-preview"},pi={class:"archivo"},fi=["disabled"],hi=["href"],bi=["src","alt"],vi=["src"],ki=["title"],Li={class:"fila"},gi={class:"w-5"},ji=["for"],_i=["id","onUpdate:modelValue"],yi={class:"w-5"},Ci=["for"],Si=["id","onUpdate:modelValue"],Ei={class:"fila"},Ai={class:"w-5"},wi=["for"],Ii=["id","onUpdate:modelValue"],Fi={class:"w-5"},Di=["for"],xi=["id","onUpdate:modelValue"],Ni={class:"w-5"},Ti=["for"],Mi=["id","onUpdate:modelValue"],Ui={class:"fila m-4"},Pi=["disabled"],Xi=["disabled"];function Vi(a,e,o,t,r,n){const l=(0,s.g2)("TarjetaModal");return(0,s.uX)(),(0,s.CE)("div",nt,[r.cargandoDatos?((0,s.uX)(),(0,s.CE)("div",lt,e[28]||(e[28]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,s.Lk)("div",{class:"texto-carga"},"Cargando...")],-1)]))):(0,s.Q3)("",!0),r.mensajePopup?((0,s.uX)(),(0,s.CE)("div",ct,[(0,s.Lk)("div",dt,[(0,s.Lk)("span",ut,(0,m.v_)(r.mensaje),1),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>{this.mensajePopup=!1,this.mensaje=""})},"Ok")])])):(0,s.Q3)("",!0),r.quitarArchivoMsgPopup?((0,s.uX)(),(0,s.CE)("div",mt,[(0,s.Lk)("div",pt,[e[29]||(e[29]=(0,s.Lk)("span",{class:"mensaje"},"¿Borrar archivo adjunto?",-1)),(0,s.Lk)("span",ft,[(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[1]||(e[1]=(...a)=>n.quitarArchivo&&n.quitarArchivo(...a))},"Si, borrar"),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[2]||(e[2]=a=>this.quitarArchivoMsgPopup=!1)},"No")])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",ht,[e[53]||(e[53]=(0,s.Lk)("h3",{class:"mt-2"},"Datos de Beneficiario",-1)),(0,s.Lk)("form",{class:"formulario-beneficiario",onSubmit:e[27]||(e[27]=(0,i.D$)(((...a)=>n.cargarBeneficiario&&n.cargarBeneficiario(...a)),["prevent"]))},[(0,s.Lk)("div",bt,[(0,s.Lk)("div",vt,[e[30]||(e[30]=(0,s.Lk)("label",{for:"dni",class:"form-label"},"DNI",-1)),(0,s.bo)((0,s.Lk)("input",{id:"dni",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>r.form.dni=a),type:"number",required:"",onKeydown:e[4]||(e[4]=(0,i.jR)((0,i.D$)(((...a)=>n.comprobarPadron&&n.comprobarPadron(...a)),["prevent"]),["enter"]))},null,544),[[i.Jo,r.form.dni]])]),(0,s.Lk)("div",kt,[(0,s.Lk)("button",{type:"button",class:"btn-mensaje",onClick:e[5]||(e[5]=(...a)=>n.comprobarPadron&&n.comprobarPadron(...a)),disabled:""==r.form.dni},"Comprobar en padrón",8,Lt),(0,s.Lk)("button",{type:"button",class:"btn-tarjeta orange",onClick:e[6]||(e[6]=(...a)=>n.verTarjeta&&n.verTarjeta(...a)),disabled:!r.tieneTarjeta},"Ver Tarjeta",8,gt),(0,s.bF)(l,{visible:r.modalVisible,form:r.tarjetaForm,onCerrar:e[7]||(e[7]=a=>r.modalVisible=!1)},null,8,["visible","form"])])]),(0,s.Lk)("div",jt,[(0,s.Lk)("div",_t,[(0,s.Lk)("button",{type:"button",class:"btn-tarjeta",disabled:!r.botonModificacion,onClick:e[8]||(e[8]=a=>{r.habilitarModificacion=!0,r.habilitarImprimir=!0})},"Modificar Datos",8,yt)])]),(0,s.Lk)("div",Ct,[(0,s.Lk)("div",St,[e[31]||(e[31]=(0,s.Lk)("label",{for:"nombre",class:"form-label"},"Nombre completo",-1)),(0,s.bo)((0,s.Lk)("input",{id:"nombre",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=a=>r.form.nombre=a),type:"text",disabled:!r.habilitarModificacion},null,8,Et),[[i.Jo,r.form.nombre]])]),(0,s.Lk)("div",At,[e[32]||(e[32]=(0,s.Lk)("label",{for:"cuil",class:"form-label"},"CUIL",-1)),(0,s.Lk)("div",wt,[(0,s.bo)((0,s.Lk)("input",{class:"form-control text-center",maxlength:"2",type:"text","onUpdate:modelValue":e[10]||(e[10]=a=>r.cuilInicio=a),onInput:e[11]||(e[11]=(...a)=>n.updateCuil&&n.updateCuil(...a)),disabled:!r.habilitarModificacion,style:{"max-width":"3em"}},null,40,It),[[i.Jo,r.cuilInicio]]),(0,s.Lk)("span",Ft,(0,m.v_)(r.form.dni),1),(0,s.bo)((0,s.Lk)("input",{class:"form-control text-center",maxlength:"1",type:"text","onUpdate:modelValue":e[12]||(e[12]=a=>r.cuilFin=a),onInput:e[13]||(e[13]=(...a)=>n.updateCuil&&n.updateCuil(...a)),disabled:!r.habilitarModificacion,style:{"max-width":"3em"}},null,40,Dt),[[i.Jo,r.cuilFin]])])])]),(0,s.Lk)("div",xt,[(0,s.Lk)("div",Nt,[e[33]||(e[33]=(0,s.Lk)("label",{for:"fecha_nacimiento",class:"form-label"},"Fecha de Nacimiento",-1)),(0,s.bo)((0,s.Lk)("input",{id:"fecha_nacimiento",class:"form-control","onUpdate:modelValue":e[14]||(e[14]=a=>r.form.fecha_nacimiento=a),type:"date",disabled:!r.habilitarModificacion},null,8,Tt),[[i.Jo,r.form.fecha_nacimiento]])]),(0,s.Lk)("div",Mt,[e[35]||(e[35]=(0,s.Lk)("label",{for:"sexo",class:"form-label"},"Sexo",-1)),(0,s.bo)((0,s.Lk)("select",{id:"sexo",class:"form-select","onUpdate:modelValue":e[15]||(e[15]=a=>r.form.sexo=a),disabled:!r.habilitarModificacion},e[34]||(e[34]=[(0,s.Lk)("option",{disabled:"",value:"default"},"Seleccione",-1),(0,s.Lk)("option",{value:"F"},"Femenino",-1),(0,s.Lk)("option",{value:"M"},"Masculino",-1)]),8,Ut),[[i.u1,r.form.sexo]])]),(0,s.Lk)("div",Pt,[e[36]||(e[36]=(0,s.Lk)("label",{for:"cant_parientes",class:"form-label"},"Cant. Parientes (hijos)",-1)),(0,s.bo)((0,s.Lk)("input",{id:"cant_parientes",class:"form-control","onUpdate:modelValue":e[16]||(e[16]=a=>r.form.cant_parientes=a),type:"number",disabled:!r.habilitarModificacion},null,8,Xt),[[i.Jo,r.form.cant_parientes]])])]),(0,s.Lk)("div",Vt,[(0,s.Lk)("div",Ot,[e[38]||(e[38]=(0,s.Lk)("label",{for:"cod_dpto",class:"form-label"},"Departamento",-1)),(0,s.bo)((0,s.Lk)("select",{id:"cod_dpto",class:"form-select","onUpdate:modelValue":e[17]||(e[17]=a=>r.form.cod_dpto=a),disabled:!r.habilitarModificacion},[e[37]||(e[37]=(0,s.Lk)("option",{disabled:"",value:"default"},"Seleccione",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.departamentos,(a=>((0,s.uX)(),(0,s.CE)("option",{key:a.cod_dpto,value:a.cod_dpto},(0,m.v_)(a.descripcion),9,qt)))),128))],8,$t),[[i.u1,r.form.cod_dpto]])]),(0,s.Lk)("div",Jt,[e[40]||(e[40]=(0,s.Lk)("label",{for:"cod_localidad",class:"form-label"},"Localidad",-1)),(0,s.bo)((0,s.Lk)("select",{id:"cod_localidad",class:"form-select","onUpdate:modelValue":e[18]||(e[18]=a=>r.form.cod_localidad=a),disabled:!r.habilitarModificacion},[e[39]||(e[39]=(0,s.Lk)("option",{disabled:"",value:"default"},"Seleccione",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.localidades,(a=>((0,s.uX)(),(0,s.CE)("option",{key:a.cod_localidad,value:a.cod_localidad},(0,m.v_)(a.descripcion),9,Rt)))),128))],8,Wt),[[i.u1,r.form.cod_localidad]])]),(0,s.Lk)("div",Bt,[e[42]||(e[42]=(0,s.Lk)("label",{for:"cod_barrio",class:"form-label"},"Barrio",-1)),(0,s.bo)((0,s.Lk)("select",{id:"cod_barrio",class:"form-select","onUpdate:modelValue":e[19]||(e[19]=a=>r.form.cod_barrio=a),disabled:!r.habilitarModificacion},[e[41]||(e[41]=(0,s.Lk)("option",{disabled:"",value:"default"},"Seleccione",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.barrios,(a=>((0,s.uX)(),(0,s.CE)("option",{key:a.cod_barrio,value:a.cod_barrio},(0,m.v_)(a.descripcion),9,zt)))),128))],8,Qt),[[i.u1,r.form.cod_barrio]])])]),(0,s.Lk)("div",Gt,[(0,s.Lk)("div",Ht,[e[43]||(e[43]=(0,s.Lk)("label",{for:"domicilio",class:"form-label"},"Domicilio",-1)),(0,s.bo)((0,s.Lk)("input",{id:"domicilio",class:"form-control","onUpdate:modelValue":e[20]||(e[20]=a=>r.form.domicilio=a),type:"text",disabled:!r.habilitarModificacion},null,8,Kt),[[i.Jo,r.form.domicilio]])]),(0,s.Lk)("div",Yt,[e[45]||(e[45]=(0,s.Lk)("label",{for:"estado",class:"form-label"},"Estado",-1)),(0,s.bo)((0,s.Lk)("select",{id:"estado",class:"form-select","onUpdate:modelValue":e[21]||(e[21]=a=>r.form.estado=a),disabled:!r.habilitarModificacion},e[44]||(e[44]=[(0,s.Lk)("option",{disabled:"",value:"default"},"Seleccione",-1),(0,s.Lk)("option",{value:null},"Sin Tarjeta",-1),(0,s.Lk)("option",{value:"SOLICITADA"},"Solicitada",-1),(0,s.Lk)("option",{value:"PENDIENTE"},"Pendiente",-1),(0,s.Lk)("option",{value:"ENTREGADA"},"Entregada",-1),(0,s.Lk)("option",{value:"BAJA"},"Baja",-1)]),8,Zt),[[i.u1,r.form.estado]])])]),(0,s.Lk)("div",ai,[(0,s.Lk)("div",ei,[e[46]||(e[46]=(0,s.Lk)("label",{for:"observaciones",class:"form-label"},"Agregar Observación",-1)),(0,s.bo)((0,s.Lk)("input",{id:"observaciones",class:"form-control","onUpdate:modelValue":e[22]||(e[22]=a=>r.form.observaciones=a),type:"text",disabled:!r.habilitarModificacion},null,8,oi),[[i.Jo,r.form.observaciones]])]),(0,s.Lk)("div",ti,[e[47]||(e[47]=(0,s.Lk)("label",{for:"importe_acreditado",class:"form-label"},"Importe Acreditado",-1)),(0,s.bo)((0,s.Lk)("input",{id:"importe_acreditado",class:"form-control","onUpdate:modelValue":e[23]||(e[23]=a=>r.form.importe_acreditado=a),type:"number",step:"0.01",disabled:!r.habilitarModificacion},null,8,ii),[[i.Jo,r.form.importe_acreditado]])])]),(0,s.Lk)("div",si,[r.form.historias.length>0?((0,s.uX)(),(0,s.CE)("div",ri,[e[48]||(e[48]=(0,s.Lk)("label",{for:"historial",class:"form-label"},"Historial",-1)),(0,s.Lk)("div",ni,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.form.historias,((a,e)=>((0,s.uX)(),(0,s.CE)("span",{class:"w-100 block",key:e},[(0,s.Lk)("strong",null,(0,m.v_)(a.fecha),1),(0,s.eW)(" "+(0,m.v_)(a.observaciones),1)])))),128))])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",li,[(0,s.Lk)("div",ci,[e[49]||(e[49]=(0,s.Lk)("label",{for:"archivo",class:"btn-archivo"},[(0,s.Lk)("img",{class:"pdf-logo",src:"/recursos/logo-pdf.png",alt:""}),(0,s.eW)(" Adjuntar archivo")],-1)),(0,s.Lk)("input",{class:"form-control",type:"file",name:"archivo",id:"archivo",accept:".pdf, .xls, .doc, .docx",hidden:"",onChange:e[24]||(e[24]=(...a)=>n.manejarDocumento&&n.manejarDocumento(...a)),disabled:!r.habilitarModificacion},null,40,di)])]),null!=r.archivo?((0,s.uX)(),(0,s.CE)("div",ui,[(0,s.Lk)("div",mi,[(0,s.Lk)("a",pi,[(0,s.Lk)("button",{type:"button",class:"btn-quitar",onClick:e[25]||(e[25]=(...a)=>n.quitarArchivoMsg&&n.quitarArchivoMsg(...a)),disabled:!r.habilitarModificacion},"×",8,fi),(0,s.Lk)("a",{class:"to-hidden",href:`https://nazadoto.com:3500/uploads/beneficiario/${r.form.dni}/${r.archivo.nombre}`,target:"_blank"},["imagen"===r.archivo.tipo?((0,s.uX)(),(0,s.CE)("img",{key:0,src:r.archivo.vistaPrevia,alt:r.archivo.nombre,class:"imagen-preview"},null,8,bi)):(0,s.Q3)("",!0),"documento"===r.archivo.tipo?((0,s.uX)(),(0,s.CE)("img",{key:1,src:r.archivo.vistaPrevia,alt:"Documento",class:"documento-preview"},null,8,vi)):(0,s.Q3)("",!0),(0,s.Lk)("div",{class:"desc-archivo",title:r.archivo.nombre},(0,m.v_)(r.archivo.nombre),9,ki)],8,hi)])])])):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.parientesArray,((a,o)=>((0,s.uX)(),(0,s.CE)("span",{key:o},[e[52]||(e[52]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("h4",null,"Pariente "+(0,m.v_)(o+1),1),(0,s.Lk)("div",Li,[(0,s.Lk)("div",gi,[(0,s.Lk)("label",{for:"pariente"+o+"1dni"},"DNI",8,ji),(0,s.bo)((0,s.Lk)("input",{id:"pariente"+o+"1dni",type:"number",class:"form-control","onUpdate:modelValue":a=>r.parientesArray[o].dni=a},null,8,_i),[[i.Jo,r.parientesArray[o].dni]])]),(0,s.Lk)("div",yi,[(0,s.Lk)("label",{for:"pariente"+o+"1nom"},"Nombre Completo",8,Ci),(0,s.bo)((0,s.Lk)("input",{id:"pariente"+o+"1nom",type:"text",class:"form-control","onUpdate:modelValue":a=>r.parientesArray[o].nombre=a},null,8,Si),[[i.Jo,r.parientesArray[o].nombre]])])]),(0,s.Lk)("div",Ei,[(0,s.Lk)("div",Ai,[(0,s.Lk)("label",{for:"pariente"+o+"1fecha_nacimiento",class:"form-label"},"Fecha de Nacimiento",8,wi),(0,s.bo)((0,s.Lk)("input",{id:"pariente"+o+"1fecha_nacimiento",class:"form-control","onUpdate:modelValue":a=>r.parientesArray[o].fecha_nacimiento=a,type:"date"},null,8,Ii),[[i.Jo,r.parientesArray[o].fecha_nacimiento]])]),(0,s.Lk)("div",Fi,[(0,s.Lk)("label",{for:"pariente"+o+"1tipo",class:"form-label"},"Tipo",8,Di),(0,s.bo)((0,s.Lk)("select",{id:"pariente"+o+"1tipo",class:"form-select","onUpdate:modelValue":a=>r.parientesArray[o].tipo=a},e[50]||(e[50]=[(0,s.Lk)("option",{disabled:"",value:"default"},"Seleccione",-1),(0,s.Lk)("option",{value:"hijo"},"Hijo",-1),(0,s.Lk)("option",{value:"conyugue"},"Cónyugue",-1),(0,s.Lk)("option",{value:"otro"},"Otro",-1)]),8,xi),[[i.u1,r.parientesArray[o].tipo]])]),(0,s.Lk)("div",Ni,[(0,s.Lk)("label",{for:"pariente"+o+"1sexo",class:"form-label"},"Sexo",8,Ti),(0,s.bo)((0,s.Lk)("select",{id:"pariente"+o+"1sexo",class:"form-select","onUpdate:modelValue":a=>r.parientesArray[o].sexo=a},e[51]||(e[51]=[(0,s.Lk)("option",{disabled:"",value:"default"},"Seleccione",-1),(0,s.Lk)("option",{value:"F"},"Femenino",-1),(0,s.Lk)("option",{value:"M"},"Masculino",-1)]),8,Mi),[[i.u1,r.parientesArray[o].sexo]])])])])))),128)),(0,s.Lk)("div",Ui,[(0,s.Lk)("button",{type:"button",class:"btn-mensaje btn-imprimir",disabled:!r.habilitarImprimir,onClick:e[26]||(e[26]=(...a)=>n.imprimirFichaPDF&&n.imprimirFichaPDF(...a))},"Imprimir",8,Pi),(0,s.Lk)("button",{type:"submit",class:"btn-mensaje",disabled:!r.habilitarModificacion},"Guardar",8,Xi)])],32)])])}const Oi={key:0,class:"modal-overlay"},$i={class:"modal-content"},qi={class:"formulario-beneficiario"},Ji={class:"fila"},Wi={class:"w-5"},Ri=["value"],Bi={class:"w-5"},Qi=["value"],zi={class:"fila"},Gi={class:"w-5"},Hi=["value"],Ki={class:"w-5"},Yi=["value"],Zi={class:"fila"},as={class:"w-5"},es=["value"],os={class:"w-5"},ts=["value"];function is(a,e,o,t,i,r){return o.visible?((0,s.uX)(),(0,s.CE)("div",Oi,[(0,s.Lk)("div",$i,[(0,s.Lk)("button",{class:"btn-cerrar",onClick:e[0]||(e[0]=e=>a.$emit("cerrar"))},"✕"),e[7]||(e[7]=(0,s.Lk)("h3",null,"Datos de Tarjeta Social",-1)),(0,s.Lk)("form",qi,[(0,s.Lk)("div",Ji,[(0,s.Lk)("div",Wi,[e[1]||(e[1]=(0,s.Lk)("label",null,"DNI",-1)),(0,s.Lk)("input",{class:"form-control",value:o.form.dni,disabled:""},null,8,Ri)]),(0,s.Lk)("div",Bi,[e[2]||(e[2]=(0,s.Lk)("label",null,"Número de Cuenta",-1)),(0,s.Lk)("input",{class:"form-control",value:o.form.num_cuenta,disabled:""},null,8,Qi)])]),(0,s.Lk)("div",zi,[(0,s.Lk)("div",Gi,[e[3]||(e[3]=(0,s.Lk)("label",null,"Número de Tarjeta",-1)),(0,s.Lk)("input",{class:"form-control",value:o.form.num_tarjeta,disabled:""},null,8,Hi)]),(0,s.Lk)("div",Ki,[e[4]||(e[4]=(0,s.Lk)("label",null,"Fecha de Registro",-1)),(0,s.Lk)("input",{class:"form-control",value:o.form.fecha_registro,disabled:""},null,8,Yi)])]),(0,s.Lk)("div",Zi,[(0,s.Lk)("div",as,[e[5]||(e[5]=(0,s.Lk)("label",null,"Estado",-1)),(0,s.Lk)("input",{class:"form-control",value:o.form.estado,disabled:""},null,8,es)]),(0,s.Lk)("div",os,[e[6]||(e[6]=(0,s.Lk)("label",null,"Importe Acreditado",-1)),(0,s.Lk)("input",{class:"form-control",value:o.form.importe_acreditado,disabled:""},null,8,ts)])])])])])):(0,s.Q3)("",!0)}var ss={props:{visible:Boolean,form:Object}};const rs=(0,k.A)(ss,[["render",is],["__scopeId","data-v-3f8ace48"]]);var ns=rs,ls={components:{TarjetaModal:ns},data(){return{cuilInicio:"",cuilFin:"",form:{dni:"",nombre:"",cuil:"",fecha_nacimiento:"",sexo:"default",cod_dpto:"default",cod_localidad:"default",cod_barrio:"default",domicilio:"",fecha_registro:"",hora_registro:"",estado:"default",fecha_modificacion:"",hora_modificacion:"",observaciones:"",cant_parientes:"",importe_acreditado:"",historias:[]},quitarArchivoMsgPopup:!1,botonModificacion:!1,departamentos:[],localidades:[],barrios:[],parientesArray:[],archivo:null,habilitarModificacion:!1,habilitarImprimir:!1,tieneTarjeta:!1,cargandoDatos:!1,mensajePopup:!1,mensaje:"",tarjetaForm:{dni:"",num_cuenta:"",num_tarjeta:"",fecha_registro:"",estado:"",importe_acreditado:""},modalVisible:!1}},watch:{"form.cod_dpto"(a){this.cargarLocalidades(a),this.form.cod_localidad="",this.form.cod_barrio="",this.barrios=[]},"form.cod_localidad"(a){this.cargarBarrios(a),this.form.cod_barrio=""},"form.cant_parientes"(a){this.actualizarParientes(a)}},async mounted(){await this.cargarDepartamentos()},methods:{updateCuil(){const a=this.cuilInicio.padStart(2,"0").slice(0,2),e=this.cuilFin.slice(0,1),o=this.form.dni;this.form.cuil=`${a}${o}${e}`},capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)},async imprimirFichaPDF(){const a=new De.Ay,e=8;let o=20;const t=(t,i)=>{a.setFont("Helvetica","bold"),a.text(`${t}:`,20,o),a.setFont("Helvetica","normal"),a.text(`${i||"-"}`,80,o),a.setFontSize(11),o+=e},i=(e,o,t=11)=>{a.setFontSize(t),a.setFont("Helvetica","bold");const i=a.getStringUnitWidth(e)*t/a.internal.scaleFactor,s=(a.internal.pageSize.getWidth()-i)/2;a.text(e,s,o)},s=a=>fetch(a).then((a=>a.blob())).then((a=>new Promise((e=>{const o=new FileReader;o.onloadend=()=>e(o.result),o.readAsDataURL(a)})))),r=await s("/recursos/icono-mds-negro.png"),n=await s("/recursos/icono-gobierno.png");a.addImage(r,"PNG",30,10,60,15),a.addImage(n,"PNG",150,10,15,15),a.setFont("Helvetica","normal"),a.setFontSize(11),a.text("SANTIAGO DEL ESTERO",160,35,{align:"center"});const l=this.capitalize((new Date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}));a.text(l,160,40,{align:"center"}),o=50,i("BENEFICIARIO DE TARJETA SOCIAL",o),o+=2*e,t("DNI",this.form.dni),t("CUIL",this.form.cuil),t("Nombre",this.form.nombre),t("Fecha de Nacimiento",this.form.fecha_nacimiento),t("Sexo","F"===this.form.sexo?"Femenino":"Masculino"),t("Cantidad de Parientes",this.form.cant_parientes),t("Domicilio",this.form.domicilio),t("Departamento",this.obtenerDescripcion(this.departamentos,this.form.cod_dpto)),t("Localidad",this.obtenerDescripcion(this.localidades,this.form.cod_localidad)),t("Barrio",this.obtenerDescripcion(this.barrios,this.form.cod_barrio)),t("Estado",this.form.estado),t("Historial",this.form.observaciones||"-");for(const c of this.form.historias)t(c.fecha,c.observaciones);o+=e,this.parientesArray.length>0&&(a.setFont("Helvetica","bold"),a.text("-- Parientes --",20,o),o+=e,a.setFont("Helvetica","normal"),this.parientesArray.forEach(((t,i)=>{a.text(`${i+1}. DNI: ${t.dni||"-"} | Nombre: ${t.nombre||"-"}`,25,o),o+=e,a.text(`   Nacimiento: ${t.fecha_nacimiento||"-"} | Sexo: ${"F"===t.sexo?"Femenino":"M"===t.sexo?"Masculino":"-"}`,25,o),o+=e})),o+=e),t("Fecha de Registro",this.form.fecha_registro),t("Hora de Registro",this.form.hora_registro),t("Fecha de Modificación",this.form.fecha_modificacion),t("Hora de Modificación",this.form.hora_modificacion),a.save(`ficha_beneficiario_${this.form.dni}.pdf`)},obtenerDescripcion(a,e){const o=a.find((a=>a.cod_dpto===e||a.cod_localidad===e||a.cod_barrio===e));return o?o.descripcion:"-"},quitarArchivoMsg(){this.quitarArchivoMsgPopup=!0},manejarDocumento(a){const e=a.target.files[0];e&&(this.archivo={tipo:"documento",archivo:e,vistaPrevia:e.name.endsWith(".pdf")?"/recursos/logo-pdf.png":e.name.endsWith(".xls")?"/recursos/logo-xls.png":"/recursos/logo-docx.png",nombre:e.name})},async verTarjeta(){if(this.cargandoDatos=!0,this.form.dni)try{const{data:a}=await t.A.get("/tarjetas/getDatos",{params:{dni:this.form.dni}});a&&Object.keys(a).length>0?(this.tarjetaForm={...a},this.modalVisible=!0):this.mostrarMensaje("No se encontró una tarjeta asociada al DNI.")}catch(a){console.error(a),this.mostrarMensaje("Error al buscar la tarjeta.")}finally{this.cargandoDatos=!1}},async cargarDepartamentos(){try{const{data:a}=await t.A.get("/beneficiarios/departamentos");this.departamentos=a}catch(a){console.error("Error cargando departamentos",a)}},async cargarLocalidades(a){if(a)try{const{data:e}=await t.A.get("/beneficiarios/localidades",{params:{cod_dpto:a}});this.localidades=e}catch(e){console.error("Error cargando localidades",e)}},async cargarBarrios(a){if(a)try{const{data:e}=await t.A.get("/beneficiarios/barrios",{params:{cod_localidad:a}});this.barrios=e}catch(e){console.error("Error cargando barrios",e)}},mostrarMensaje(a){this.mensajePopup=!0,this.mensaje=a},actualizarParientes(a){const e=parseInt(a),o=[];for(let t=0;t<e;t++)o.push({dni:"",nombre:"",fecha_nacimiento:"",sexo:""});this.parientesArray=o},resetForm(){this.cuilInicio="",this.cuilFin="",this.form.nombre="",this.form.cuil="",this.form.fecha_nacimiento="",this.form.sexo="default",this.form.cod_dpto="default",this.form.cod_localidad="default",this.form.cod_barrio="default",this.form.domicilio="",this.form.fecha_registro="",this.form.hora_registro="",this.form.estado="default",this.form.fecha_modificacion="",this.form.hora_modificacion="",this.form.observaciones="",this.form.cant_parientes="",this.form.historias=[],this.form.importe_acreditado="",this.parientesArray=[],this.archivo=null,this.tieneTarjeta=!1,this.tarjetaForm={dni:"",num_cuenta:"",num_tarjeta:"",fecha_registro:"",estado:"",importe_acreditado:""}},async comprobarPadron(){this.cargandoDatos=!0,this.resetForm();try{const{data:a}=await t.A.get("/beneficiarios/getDatos",{params:{dni:this.form.dni}});if(a&&Object.keys(a).length>0){for(const e in a)e in this.form&&(this.form[e]=a[e],""!=this.form.cuil&&(this.cuilInicio=this.form.cuil.slice(0,2),this.cuilFin=this.form.cuil.slice(10)));a.archivo?this.archivo={tipo:a.archivo.endsWith(".pdf")||a.archivo.endsWith(".xls")||a.archivo.endsWith(".doc")||a.archivo.endsWith(".docx")?"documento":"imagen",nombre:a.archivo,vistaPrevia:a.archivo.endsWith(".pdf")?"/recursos/logo-pdf.png":a.archivo.endsWith(".xls")?"/recursos/logo-xls.png":a.archivo.endsWith(".doc")||a.archivo.endsWith(".docx")?"/recursos/logo-docx.png":`/uploads/${a.archivo}`,id:"archivo-servidor"}:this.archivo=null,null!=a.estado?this.tieneTarjeta=!0:this.tieneTarjeta=!1,a.cod_dpto&&(this.form.cod_dpto=a.cod_dpto,await this.cargarLocalidades(a.cod_dpto)),a.cod_localidad&&(this.form.cod_localidad=a.cod_localidad,await this.cargarBarrios(a.cod_localidad)),a.cod_barrio&&(this.form.cod_barrio=a.cod_barrio),this.mostrarMensaje("Datos cargados automáticamente.")}else this.mostrarMensaje("No se encontró el DNI en ninguna fuente.")}catch(a){console.error(a),this.mostrarMensaje("No se encontró el DNI en ninguna fuente.")}finally{this.botonModificacion=!0,this.cargandoDatos=!1,this.habilitarImprimir=!0}},async quitarArchivo(){this.quitarArchivoMsgPopup=!1,this.cargandoDatos=!0;try{await t.A.delete("/beneficiarios/quitarArchivo",{params:{dni:this.form.dni}}),this.archivo=null,this.form.archivo=null}catch(a){console.error(a),this.mostrarMensaje("Error al eliminar el archivo.")}finally{this.cargandoDatos=!1,this.mostrarMensaje("Archivo eliminado correctamente.")}},async cargarBeneficiario(){const a=new Date,e=a.toISOString().split("T")[0],o=a.toTimeString().split(" ")[0].slice(0,5);this.form.fecha_registro||(this.form.fecha_registro=e),this.form.hora_registro||(this.form.hora_registro=o),this.form.fecha_modificacion=e,this.form.hora_modificacion=o;const i=new FormData;i.append("beneficiario",JSON.stringify(this.form)),i.append("parientes",JSON.stringify(this.parientesArray)),i.append("archivo",null!=this.archivo?this.archivo.archivo:null);try{const a=await t.A.post("/beneficiarios/update",i,{headers:{"Content-Type":"multipart/form-data"}});a.data.success?this.mostrarMensaje("Beneficiario guardado correctamente."):this.mostrarMensaje("Error al guardar beneficiario.")}catch(s){console.error("Error al conectar con el servidor:",s),this.mostrarMensaje("Error de conexión.")}}}};const cs=(0,k.A)(ls,[["render",Vi],["__scopeId","data-v-5e6436d5"]]);var ds=cs;const us={class:"vista"},ms={key:0,class:"pantalla-carga-vista text-center"},ps={key:1,class:"mensaje-container-fondo"},fs={class:"mensaje-container"},hs={class:"mensaje"},bs={class:"container"},vs={class:"fila"},ks={class:"w-5"},Ls={class:"w-5 mt-auto"},gs={class:"fila"},js={class:"w-100"},_s=["disabled"],ys={class:"fila"},Cs={class:"w-5"},Ss={class:"w-5"},Es={class:"fila"},As={class:"w-5"},ws={class:"w-5"},Is={class:"fila"},Fs={class:"w-5"},Ds=["disabled"],xs={class:"w-5"},Ns=["disabled"],Ts={class:"fila"},Ms={class:"w-100"},Us=["disabled"],Ps={key:0,class:"w-100"},Xs={class:"historial"};function Vs(a,e,o,t,r,n){return(0,s.uX)(),(0,s.CE)("div",us,[r.cargandoDatos?((0,s.uX)(),(0,s.CE)("div",ms,e[13]||(e[13]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,s.Lk)("div",{class:"texto-carga"},"Cargando...")],-1)]))):(0,s.Q3)("",!0),r.mensajePopup?((0,s.uX)(),(0,s.CE)("div",ps,[(0,s.Lk)("div",fs,[(0,s.Lk)("span",hs,(0,m.v_)(r.mensaje),1),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>{this.mensajePopup=!1,this.mensaje=""})},"Ok")])])):(0,s.Q3)("",!0),(0,s.Lk)("div",bs,[e[25]||(e[25]=(0,s.Lk)("h3",{class:"mt-2"},"Datos de Tarjeta Social",-1)),(0,s.Lk)("form",{class:"formulario-beneficiario",onSubmit:e[12]||(e[12]=(0,i.D$)(((...a)=>n.guardarTarjeta&&n.guardarTarjeta(...a)),["prevent"]))},[(0,s.Lk)("div",vs,[(0,s.Lk)("div",ks,[e[14]||(e[14]=(0,s.Lk)("label",{for:"dni",class:"form-label"},"DNI",-1)),(0,s.bo)((0,s.Lk)("input",{id:"dni",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>r.form.dni=a),type:"number",onKeydown:e[2]||(e[2]=(0,i.jR)((0,i.D$)(((...a)=>n.comprobarPadron&&n.comprobarPadron(...a)),["prevent"]),["enter"]))},null,544),[[i.Jo,r.form.dni]])]),(0,s.Lk)("div",Ls,[(0,s.Lk)("button",{class:"btn-mensaje",type:"button",onClick:e[3]||(e[3]=(...a)=>n.comprobarPadron&&n.comprobarPadron(...a))},"Comprobar en padrón")])]),(0,s.Lk)("div",gs,[(0,s.Lk)("div",js,[(0,s.Lk)("button",{type:"button",class:"btn-tarjeta",disabled:!a.botonModificacion,onClick:e[4]||(e[4]=e=>{r.habilitarModificacion=!0,a.habilitarImprimir=!0})},"Modificar Datos",8,_s)])]),(0,s.Lk)("div",ys,[(0,s.Lk)("div",Cs,[e[15]||(e[15]=(0,s.Lk)("label",{for:"num_cuenta",class:"form-label"},"Número de Cuenta",-1)),(0,s.bo)((0,s.Lk)("input",{id:"num_cuenta",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>r.form.num_cuenta=a),type:"text",disabled:!0},null,512),[[i.Jo,r.form.num_cuenta]])]),(0,s.Lk)("div",Ss,[e[16]||(e[16]=(0,s.Lk)("label",{for:"num_tarjeta",class:"form-label"},"Número de Tarjeta",-1)),(0,s.bo)((0,s.Lk)("input",{id:"num_tarjeta",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=a=>r.form.num_tarjeta=a),type:"text",disabled:!0},null,512),[[i.Jo,r.form.num_tarjeta]])])]),(0,s.Lk)("div",Es,[(0,s.Lk)("div",As,[e[17]||(e[17]=(0,s.Lk)("label",{for:"fecha_registro",class:"form-label"},"Fecha de Registro",-1)),(0,s.bo)((0,s.Lk)("input",{id:"fecha_registro",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=a=>r.form.fecha_registro=a),type:"date",disabled:!0},null,512),[[i.Jo,r.form.fecha_registro]])]),(0,s.Lk)("div",ws,[e[18]||(e[18]=(0,s.Lk)("label",{for:"fecha_modificacion",class:"form-label"},"Fecha de Modificación",-1)),(0,s.bo)((0,s.Lk)("input",{id:"fecha_modificacion",class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>r.form.fecha_modificacion=a),type:"date",disabled:!0},null,512),[[i.Jo,r.form.fecha_modificacion]])])]),(0,s.Lk)("div",Is,[(0,s.Lk)("div",Fs,[e[20]||(e[20]=(0,s.Lk)("label",{for:"estado",class:"form-label"},"Estado",-1)),(0,s.bo)((0,s.Lk)("select",{id:"estado",class:"form-select","onUpdate:modelValue":e[9]||(e[9]=a=>r.form.estado=a),disabled:!r.habilitarModificacion},e[19]||(e[19]=[(0,s.Fv)('<option disabled value="" data-v-07c2b06a>Seleccione</option><option value="SOLICITADA" data-v-07c2b06a>Solicitada</option><option value="PENDIENTE" data-v-07c2b06a>Pendiente</option><option value="ENTREGADA" data-v-07c2b06a>Entregada</option><option value="BAJA" data-v-07c2b06a>Baja</option>',5)]),8,Ds),[[i.u1,r.form.estado]])]),(0,s.Lk)("div",xs,[e[21]||(e[21]=(0,s.Lk)("label",{for:"importe_acreditado",class:"form-label"},"Importe Acreditado",-1)),(0,s.bo)((0,s.Lk)("input",{id:"importe_acreditado",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=a=>r.form.importe_acreditado=a),type:"number",step:"0.01",disabled:!r.habilitarModificacion},null,8,Ns),[[i.Jo,r.form.importe_acreditado]])])]),(0,s.Lk)("div",Ts,[(0,s.Lk)("div",Ms,[e[22]||(e[22]=(0,s.Lk)("label",{for:"observaciones",class:"form-label"},"Agregar Observación",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"observaciones",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=a=>r.form.observaciones=a),disabled:!r.habilitarModificacion},null,8,Us),[[i.Jo,r.form.observaciones]])]),r.form.historias.length>0?((0,s.uX)(),(0,s.CE)("div",Ps,[e[23]||(e[23]=(0,s.Lk)("label",{for:"historial",class:"form-label"},"Historial",-1)),(0,s.Lk)("div",Xs,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.form.historias,((a,e)=>((0,s.uX)(),(0,s.CE)("span",{class:"w-100 block",key:e},[(0,s.Lk)("strong",null,(0,m.v_)(a.fecha),1),(0,s.eW)(" "+(0,m.v_)(a.observaciones),1)])))),128))])])):(0,s.Q3)("",!0)]),e[24]||(e[24]=(0,s.Lk)("div",{class:"fila"},[(0,s.Lk)("button",{type:"button",class:"btn-mensaje btn-imprimir"},"Imprimir"),(0,s.Lk)("button",{type:"submit",class:"btn-mensaje"},"Guardar")],-1))],32)])])}var Os={data(){return{form:{dni:"",num_cuenta:"",num_tarjeta:"",fecha_registro:"",estado:"",fecha_modificacion:"",importe_acreditado:"",observaciones:"",historias:[]},mensajePopup:!1,mensaje:"",cargandoDatos:!1,habilitarModificacion:!1}},methods:{async comprobarPadron(){this.cargandoDatos=!0;try{const{data:a}=await t.A.get("/tarjetas/getDatos",{params:{dni:this.form.dni}});if(a&&Object.keys(a).length>0){for(const e in a)e in this.form&&null!==a[e]&&void 0!==a[e]&&(this.form[e]=a[e]);this.mostrarMensaje("Datos encontrados y cargados.")}else this.mostrarMensaje("No se encontraron datos para ese DNI.")}catch(a){console.error(a),this.mostrarMensaje("Ocurrió un error al consultar el padrón.")}finally{this.botonModificacion=!0,this.cargandoDatos=!1,this.habilitarImprimir=!0}},mostrarMensaje(a){this.mensajePopup=!0,this.mensaje=a},async guardarTarjeta(){const a=new Date,e=a.toISOString().split("T")[0];this.form.fecha_registro||(this.form.fecha_registro=e),this.form.fecha_modificacion=e;try{const{data:a}=await t.A.post("/tarjetas/update",this.form);a.success?this.mostrarMensaje("Tarjeta guardada correctamente."):this.mostrarMensaje("No se pudo guardar la tarjeta.")}catch(o){console.error(o),this.mostrarMensaje("Error al guardar la tarjeta.")}}}};const $s=(0,k.A)(Os,[["render",Vs],["__scopeId","data-v-07c2b06a"]]);var qs=$s;const Js={class:"vista"},Ws={class:"container"},Rs={class:"seccion"},Bs={class:"fila"},Qs={class:"seccion"},zs={class:"fila"};function Gs(a,e,o,t,i,r){return(0,s.uX)(),(0,s.CE)("div",Js,[(0,s.Lk)("div",Ws,[e[11]||(e[11]=(0,s.Lk)("h3",{class:"mt-2"},"Generar Informes",-1)),(0,s.Lk)("section",Rs,[e[9]||(e[9]=(0,s.Lk)("h4",{class:"subtitulo"},"Beneficiarios",-1)),(0,s.Lk)("div",Bs,[(0,s.Lk)("button",{class:"btn-opcion",onClick:e[0]||(e[0]=a=>r.generar("beneficiarios","todo"))},"Todo"),(0,s.Lk)("button",{class:"btn-opcion",onClick:e[1]||(e[1]=a=>r.generar("beneficiarios","capital"))},"Capital"),(0,s.Lk)("button",{class:"btn-opcion",onClick:e[2]||(e[2]=a=>r.generar("beneficiarios","banda"))},"Banda"),(0,s.Lk)("button",{class:"btn-opcion",onClick:e[3]||(e[3]=a=>r.generar("beneficiarios","interior"))},"Interior")])]),(0,s.Lk)("section",Qs,[e[10]||(e[10]=(0,s.Lk)("h4",{class:"subtitulo"},"Tarjetas Sociales",-1)),(0,s.Lk)("div",zs,[(0,s.Lk)("button",{class:"btn-opcion",onClick:e[4]||(e[4]=a=>r.generar("tarjetas","todo"))},"Todo"),(0,s.Lk)("button",{class:"btn-opcion",onClick:e[5]||(e[5]=a=>r.generar("tarjetas","capital"))},"Capital"),(0,s.Lk)("button",{class:"btn-opcion",onClick:e[6]||(e[6]=a=>r.generar("tarjetas","banda"))},"Banda"),(0,s.Lk)("button",{class:"btn-opcion",onClick:e[7]||(e[7]=a=>r.generar("tarjetas","interior"))},"Interior"),(0,s.Lk)("button",{class:"btn-opcion",onClick:e[8]||(e[8]=a=>r.generar("tarjetas","ncaja"))},"N° Caja")])])])])}var Hs={methods:{generar(a,e){console.log(`Generar PDF: ${a} - ${e}`)}}};const Ks=(0,k.A)(Hs,[["render",Gs],["__scopeId","data-v-18916563"]]);var Ys=Ks;const Zs={class:"vista"},ar={key:0,class:"pantalla-carga-vista"},er={key:1,class:"mensaje-container-fondo"},or={class:"mensaje-container"},tr={class:"mensaje"},ir={class:"container"},sr=["href"],rr=["href"],nr=["onClick"];function lr(a,e,o,t,r,n){return(0,s.uX)(),(0,s.CE)("div",Zs,[r.cargandoDatos?((0,s.uX)(),(0,s.CE)("div",ar,e[10]||(e[10]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,s.Lk)("div",{class:"texto-carga"},"Cargando...")],-1)]))):(0,s.Q3)("",!0),r.mensajePopup?((0,s.uX)(),(0,s.CE)("div",er,[(0,s.Lk)("div",or,[(0,s.Lk)("span",tr,(0,m.v_)(r.mensaje),1),(0,s.Lk)("button",{class:"btn btn-primario",onClick:e[0]||(e[0]=a=>{r.mensajePopup=!1,r.mensaje=""})},"Ok")])])):(0,s.Q3)("",!0),r.form_solicitud?((0,s.uX)(),(0,s.CE)("div",{key:2,class:"form-solicitud-bg",onClick:e[7]||(e[7]=(...a)=>n.resetForm&&n.resetForm(...a))},[(0,s.Lk)("form",{onSubmit:e[5]||(e[5]=(0,i.D$)(((...a)=>n.responderSolicitud&&n.responderSolicitud(...a)),["prevent"])),onClick:e[6]||(e[6]=(0,i.D$)((()=>{}),["stop"])),class:"form-solicitud-container"},[e[12]||(e[12]=(0,s.Lk)("h3",{class:"titulo-form"},"Responder Solicitud",-1)),e[13]||(e[13]=(0,s.Lk)("label",{for:"id"},"ID",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"id","onUpdate:modelValue":e[1]||(e[1]=a=>r.form.id=a),disabled:"",class:"form-control"},null,512),[[i.Jo,r.form.id]]),e[14]||(e[14]=(0,s.Lk)("label",{for:"dni"},"DNI",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"dni","onUpdate:modelValue":e[2]||(e[2]=a=>r.form.dni=a),disabled:"",class:"form-control"},null,512),[[i.Jo,r.form.dni]]),e[15]||(e[15]=(0,s.Lk)("label",{for:"estado",class:"form-label"},"Estado",-1)),(0,s.bo)((0,s.Lk)("select",{id:"estado",class:"form-select","onUpdate:modelValue":e[3]||(e[3]=a=>r.form.estado=a)},e[11]||(e[11]=[(0,s.Fv)('<option disabled value="default" data-v-1796cb22>Seleccione</option><option value="SOLICITADA" data-v-1796cb22>Solicitada</option><option value="PENDIENTE" data-v-1796cb22>Pendiente</option><option value="ENTREGADA" data-v-1796cb22>Entregada</option><option value="BAJA" data-v-1796cb22>Baja</option>',5)]),512),[[i.u1,r.form.estado]]),e[16]||(e[16]=(0,s.Lk)("label",{for:"observacion",class:"form-label"},"Observación",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"observacion",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>r.form.observacion=a)},null,512),[[i.Jo,r.form.observacion]]),e[17]||(e[17]=(0,s.Lk)("button",{class:"btn btn-primario",type:"submit"},"Guardar",-1))],32)])):(0,s.Q3)("",!0),(0,s.Lk)("div",ir,[e[18]||(e[18]=(0,s.Lk)("h3",{class:"titulo-pagina"},"Gestionar Solicitudes",-1)),(0,s.bo)((0,s.Lk)("input",{class:"form-control buscador",type:"number",placeholder:"Buscar por ID o DNI","onUpdate:modelValue":e[8]||(e[8]=a=>r.buscar=a),onChange:e[9]||(e[9]=(...a)=>n.filtrarSolicitudes&&n.filtrarSolicitudes(...a))},null,544),[[i.Jo,r.buscar]]),e[19]||(e[19]=(0,s.Lk)("div",{class:"solicitud-encabezado"},[(0,s.Lk)("span",null,"ID"),(0,s.Lk)("span",null,"DNI"),(0,s.Lk)("span",null,"Fecha"),(0,s.Lk)("span",null,"Foto DNI"),(0,s.Lk)("span",null,"Historial Médico"),(0,s.Lk)("span",null,"Estado"),(0,s.Lk)("span",null,"Acción")],-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.solicitudesFiltradas,((a,e)=>((0,s.uX)(),(0,s.CE)("div",{class:"solicitud-item",key:e},[(0,s.Lk)("span",null,(0,m.v_)(a.id),1),(0,s.Lk)("span",null,(0,m.v_)(a.dni),1),(0,s.Lk)("span",null,(0,m.v_)(n.formatearFecha(a.fecha_solicitud)),1),(0,s.Lk)("a",{class:"btn btn-secundario",href:"https://nazadoto.com:3500/get/descargar?path="+a.path_dni}," Ver ",8,sr),(0,s.Lk)("a",{class:"btn btn-secundario",href:"https://nazadoto.com:3500/get/descargar?path="+a.path_historial_medico}," Ver ",8,rr),(0,s.Lk)("span",{class:(0,m.C4)(n.estadoClass(a.estado))},(0,m.v_)(a.estado),3),(0,s.Lk)("a",{class:"btn btn-primario",onClick:e=>n.responder(a)},"Responder",8,nr)])))),128))])])}var cr={data(){return{cargandoDatos:!1,mensajePopup:!1,form_solicitud:!1,form:{id:"",dni:"",estado:"default",observacion:""},mensaje:"",solicitudes:[],buscar:""}},methods:{async responderSolicitud(){this.cargandoDatos=!0;try{await t.A.post("/tarjetas/actualizarSolicitud",{params:{form:this.form}}),this.resetForm(),this.fetchSolicitudes(),this.filtrarSolicitudes()}catch(a){console.log(a)}finally{this.cargandoDatos=!1}},resetForm(){this.form_solicitud=!1,this.form={id:"",dni:"",estado:"default",observacion:""}},responder(a){this.form_solicitud=!0,this.form.id=a.id,this.form.estado=a.estado,this.form.dni=a.dni},async fetchSolicitudes(){this.cargandoDatos=!0;try{const a=await t.A.get("/tarjetas/getSolicitudes");this.solicitudes=a.data[0]}catch(a){console.log(a)}finally{this.cargandoDatos=!1}},formatearFecha(a){return new Date(a).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"2-digit"})},filtrarSolicitudes(){const a=this.buscar.toString().toLowerCase();this.solicitudesFiltradas=this.solicitudes.filter((e=>e.id.toString().includes(a)||e.dni.toString().includes(a)))},estadoClass(a){return{"estado-pendiente":"PENDIENTE"===a,"estado-entregada":"ENTREGADA"===a,"estado-baja":"BAJA"===a,"estado-solicitada":"SOLICITADA"===a}}},async mounted(){await this.fetchSolicitudes()},computed:{solicitudesFiltradas(){if(!this.buscar)return this.solicitudes;const a=this.buscar.toString().toLowerCase();return this.solicitudes.filter((e=>e.id.toString().includes(a)||e.dni.toString().includes(a)))}}};const dr=(0,k.A)(cr,[["render",lr],["__scopeId","data-v-1796cb22"]]);var ur=dr;const mr={class:"flex-inline"},pr={key:0,class:"pantalla-carga text-center"};function fr(a,e,o,t,i,r){const n=(0,s.g2)("SidebarAdminComponent"),l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",mr,[i.cargando?((0,s.uX)(),(0,s.CE)("div",pr,e[0]||(e[0]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:"Logo"}),(0,s.Lk)("div",{class:"texto-carga c-black"},"Cargando...")],-1)]))):(0,s.Q3)("",!0),(0,s.bF)(n,{"tiene-tarjeta":i.tieneTarjeta},null,8,["tiene-tarjeta"]),(0,s.bF)(l,{class:"vista","tiene-tarjeta":i.tieneTarjeta},null,8,["tiene-tarjeta"])])}const hr={key:0,class:"mensaje-container-fondo"},br={class:"mensaje-container"},vr={class:"modal-botones"},kr={class:"contenedor"},Lr={class:"contenedor-botones"};function gr(a,e,o,t,i,r){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",null,[i.mostrarModal?((0,s.uX)(),(0,s.CE)("div",hr,[(0,s.Lk)("div",br,[e[3]||(e[3]=(0,s.Lk)("span",{class:"mensaje"},"¿Cerrar sesión?",-1)),(0,s.Lk)("div",vr,[(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>this.mostrarModal=!1)},"No"),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[1]||(e[1]=(...a)=>r.cerrarSesion&&r.cerrarSesion(...a))},"Si")])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",kr,[(0,s.Lk)("div",Lr,[e[6]||(e[6]=(0,s.Lk)("a",{href:"/admin",class:"sidebar-header"},[(0,s.Lk)("img",{src:"/recursos/logomds.png",class:"mv-auto img-logo",alt:""}),(0,s.Lk)("h4",{class:"white text-center"},[(0,s.eW)("Tarjetas"),(0,s.Lk)("br"),(0,s.eW)("Sociales")])],-1)),e[7]||(e[7]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("div",null,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/admin"==a.$route.path}]),to:"/admin"},{default:(0,s.k6)((()=>e[4]||(e[4]=[(0,s.eW)("Inicio")]))),_:1},8,["class"])]),(0,s.Lk)("div",null,[(0,s.bF)(n,{class:(0,m.C4)(["item-btn",{active:"/admin/usuarios"===a.$route.path}]),to:"/admin/usuarios"},{default:(0,s.k6)((()=>e[5]||(e[5]=[(0,s.eW)("Usuarios")]))),_:1},8,["class"])]),(0,s.Lk)("button",{class:"item-btn mt-4",onClick:e[2]||(e[2]=(...a)=>r.cerrarSesionModal&&r.cerrarSesionModal(...a))},"Cerrar Sesión")])])])}var jr={data(){return{mostrarModal:!1}},methods:{cerrarSesionModal(){this.mostrarModal=!0},cerrarSesion(){this.mostrarModal=!1,localStorage.clear(),na.emit("usuarioDeslogueado"),an.push("/")}}};const _r=(0,k.A)(jr,[["render",gr],["__scopeId","data-v-5744a3c2"]]);var yr=_r,Cr={components:{SidebarAdminComponent:yr},data(){return{cargando:!1,tieneTarjeta:null}},methods:{async verificarTarjeta(){this.cargando=!0;const a=JSON.parse(localStorage.getItem("user")).dni;try{const e=await t.A.get("/beneficiarios/verificarTarjeta",{params:{dni:a}});this.tieneTarjeta=e.data.estado,localStorage.setItem("tieneTarjeta",this.tieneTarjeta)}catch(e){console.log("No tiene tarjeta.")}finally{this.cargando=!1}}},mounted(){this.verificarTarjeta()}};const Sr=(0,k.A)(Cr,[["render",fr],["__scopeId","data-v-b0006f82"]]);var Er=Sr;const Ar={class:"vista"},wr={class:"container"},Ir={class:"mt-2"},Fr={class:"tarjetas-inicio"};function Dr(a,e,o,t,i,r){return(0,s.uX)(),(0,s.CE)("div",Ar,[(0,s.Lk)("div",wr,[(0,s.Lk)("h3",Ir,"Bienvenid@, "+(0,m.v_)(i.usuario.usuario?.toUpperCase()),1),e[2]||(e[2]=(0,s.Lk)("p",{class:"lead"},"Desde aquí podés acceder a las principales funciones de gestión del sistema.",-1)),(0,s.Lk)("div",Fr,[(0,s.Lk)("div",{class:"card acceso",onClick:e[0]||(e[0]=e=>a.$router.push("/admin/usuarios"))},e[1]||(e[1]=[(0,s.Lk)("h5",null,"Gestionar Usuarios",-1),(0,s.Lk)("p",null,"Ver y modificar la información de los usuarios.",-1)]))])])])}var xr={data(){return{usuario:""}},props:{tieneTarjeta:{type:String,default:null}},mounted(){this.usuario=JSON.parse(localStorage.getItem("user"))}};const Nr=(0,k.A)(xr,[["render",Dr],["__scopeId","data-v-48d2afff"]]);var Tr=Nr;const Mr={class:"vista"},Ur={key:0,class:"pantalla-carga text-center"},Pr={key:1,class:"mensaje-container-fondo"},Xr={class:"mensaje-container"},Vr={class:"mensaje"},Or={class:"container"},$r={class:"tabla-usuarios"},qr=["onUpdate:modelValue"],Jr=["onUpdate:modelValue"],Wr=["onUpdate:modelValue"],Rr=["onUpdate:modelValue"],Br=["onClick"];function Qr(a,e,o,t,r,n){return(0,s.uX)(),(0,s.CE)("div",Mr,[r.cargando?((0,s.uX)(),(0,s.CE)("div",Ur,e[1]||(e[1]=[(0,s.Lk)("div",{class:"logo-carga"},[(0,s.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:"Logo"}),(0,s.Lk)("div",{class:"texto-carga"},"Cargando...")],-1)]))):(0,s.Q3)("",!0),r.mensajePopup?((0,s.uX)(),(0,s.CE)("div",Pr,[(0,s.Lk)("div",Xr,[(0,s.Lk)("span",Vr,(0,m.v_)(r.mensaje),1),(0,s.Lk)("button",{class:"btn-mensaje",onClick:e[0]||(e[0]=a=>{r.mensajePopup=!1,r.mensaje=""})}," Ok ")])])):(0,s.Q3)("",!0),(0,s.Lk)("div",Or,[e[4]||(e[4]=(0,s.Lk)("h3",{class:"mt-2"},"Gestión de Usuarios",-1)),(0,s.Lk)("table",$r,[e[3]||(e[3]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"ID"),(0,s.Lk)("th",null,"Usuario"),(0,s.Lk)("th",null,"Correo"),(0,s.Lk)("th",null,"DNI"),(0,s.Lk)("th",null,"Rol"),(0,s.Lk)("th",null,"Fecha Registro"),(0,s.Lk)("th",null,"Acciones")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.usuarios,(a=>((0,s.uX)(),(0,s.CE)("tr",{key:a.id},[(0,s.Lk)("td",null,(0,m.v_)(a.id),1),(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e=>a.usuario=e,class:"input-tabla"},null,8,qr),[[i.Jo,a.usuario]])]),(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e=>a.correo=e,class:"input-tabla"},null,8,Jr),[[i.Jo,a.correo]])]),(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e=>a.dni=e,class:"input-tabla"},null,8,Wr),[[i.Jo,a.dni]])]),(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e=>a.rol=e,class:"input-tabla"},e[2]||(e[2]=[(0,s.Lk)("option",{value:"0"},"Beneficiario",-1),(0,s.Lk)("option",{value:"1"},"Empleado",-1),(0,s.Lk)("option",{value:"2"},"Administrador",-1)]),8,Rr),[[i.u1,a.rol]])]),(0,s.Lk)("td",null,(0,m.v_)(n.formatearFecha(a.fecha_registro)),1),(0,s.Lk)("td",null,[(0,s.Lk)("button",{class:"btn-guardar",onClick:e=>n.guardarUsuario(a)}," Guardar ",8,Br)])])))),128))])])])])}var zr={data(){return{cargando:!1,mensajePopup:!1,mensaje:"",usuarios:[]}},methods:{formatearFecha(a){return new Date(a).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"2-digit"})},async fetchUsuarios(){this.cargando=!0;try{const a=await t.A.get("/get/usuarios");this.usuarios=a.data[0]}catch(a){this.mensaje="Error al cargar usuarios."+a,this.mensajePopup=!0}finally{this.cargando=!1}},async guardarUsuario(a){this.cargando=!0;try{await t.A.post("/beneficiarios/updateUsuario",{usuario:a}),this.mensaje="Usuario actualizado correctamente.",this.mensajePopup=!0}catch(e){this.mensaje="Error al actualizar usuario.",this.mensajePopup=!0}finally{this.cargando=!1}}},mounted(){this.fetchUsuarios()}};const Gr=(0,k.A)(zr,[["render",Qr],["__scopeId","data-v-5bc688ec"]]);var Hr=Gr;function Kr(){const a=JSON.parse(localStorage.getItem("user"));return a}const Yr=[{path:"/",component:B,meta:{requiresAuth:!1}},{path:"/home",component:g,meta:{requiresAuth:!0}},{path:"/login",component:da},{path:"/solicitar-tarjeta",component:Ia,meta:{requiresAuth:!1}},{path:"/requisitos",component:Ma,meta:{requiresAuth:!1}},{path:"/admin",component:Er,meta:{requiresAuth:!0,role:2},children:[{path:"",component:Tr,meta:{requiresAuth:!0,role:2}},{path:"usuarios",component:Hr,meta:{requiresAuth:!0,role:2}}]},{path:"/empleado",component:Yo,meta:{requiresAuth:!0,role:1},children:[{path:"",component:rt,meta:{requiresAuth:!0,role:1}},{path:"beneficiarios",component:ds,meta:{requiresAuth:!0,role:1}},{path:"tarjetas",component:qs,meta:{requiresAuth:!0,role:1}},{path:"solicitudes",component:ur,meta:{requiresAuth:!0,role:1}},{path:"informes",component:Ys,meta:{requiresAuth:!0,role:1}}]},{path:"/beneficiario",component:Ya,meta:{requiresAuth:!0,role:0},children:[{path:"",component:re,meta:{requiresAuth:!0,role:0}},{path:"solicitud",component:Po,meta:{requiresAuth:!0,role:0}},{path:"tarjeta",component:Te,meta:{requiresAuth:!0,role:0}}]}],Zr=(0,u.aE)({history:(0,u.LA)(),routes:Yr,linkActiveClass:"active",linkExactActiveClass:"active"});Zr.beforeEach(((a,e,o)=>{const t=Kr();if("/login"===a.path&&t)switch(t.rol){case 0:return o("/beneficiario");case 1:return o("/empleado");case 2:return o("/admin");default:return o()}if(a.meta.requiresAuth){if(!t)return o("/login");if(void 0!==a.meta.role&&a.meta.role!==t.rol)return o("/login")}return o()}));var an=Zr,en={data(){return{usuario:null,logueado:!1}},mounted(){this.obtenerUsuario(),na.on("usuarioLogueado",this.obtenerUsuario),na.on("usuarioDeslogueado",this.obtenerUsuario)},unmounted(){na.off("usuarioLogueado",this.obtenerUsuario),na.off("usuarioDeslogueado",this.obtenerUsuario)},methods:{obtenerUsuario(){this.usuario=JSON.parse(localStorage.getItem("user")),this.logueado=null!=this.usuario},redireccionarInicio(){switch(console.log(this.usuario),this.usuario.rol){case 0:an.push("/beneficiario");break;case 1:an.push("/empleado");break;case 2:an.push("/admin");break}}}};const on=(0,k.A)(en,[["render",d],["__scopeId","data-v-2daea626"]]);var tn=on,sn={name:"App",components:{NavbarPublicoComponent:tn}};const rn=(0,k.A)(sn,[["render",n]]);var nn=rn;const ln="prod";t.A.defaults.baseURL="dev"==ln?"http://192.168.1.182:3000":"https://sgts.nazadoto.com:3500";const cn=(0,i.Ef)(nn);cn.use(an),cn.mount("#app")}},e={};function o(t){var i=e[t];if(void 0!==i)return i.exports;var s=e[t]={exports:{}};return a[t].call(s.exports,s,s.exports,o),s.exports}o.m=a,function(){var a=[];o.O=function(e,t,i,s){if(!t){var r=1/0;for(d=0;d<a.length;d++){t=a[d][0],i=a[d][1],s=a[d][2];for(var n=!0,l=0;l<t.length;l++)(!1&s||r>=s)&&Object.keys(o.O).every((function(a){return o.O[a](t[l])}))?t.splice(l--,1):(n=!1,s<r&&(r=s));if(n){a.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=a.length;d>0&&a[d-1][2]>s;d--)a[d]=a[d-1];a[d]=[t,i,s]}}(),function(){o.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return o.d(e,{a:e}),e}}(),function(){var a,e=Object.getPrototypeOf?function(a){return Object.getPrototypeOf(a)}:function(a){return a.__proto__};o.t=function(t,i){if(1&i&&(t=this(t)),8&i)return t;if("object"===typeof t&&t){if(4&i&&t.__esModule)return t;if(16&i&&"function"===typeof t.then)return t}var s=Object.create(null);o.r(s);var r={};a=a||[null,e({}),e([]),e(e)];for(var n=2&i&&t;"object"==typeof n&&!~a.indexOf(n);n=e(n))Object.getOwnPropertyNames(n).forEach((function(a){r[a]=function(){return t[a]}}));return r["default"]=function(){return t},o.d(s,r),s}}(),function(){o.d=function(a,e){for(var t in e)o.o(e,t)&&!o.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:e[t]})}}(),function(){o.f={},o.e=function(a){return Promise.all(Object.keys(o.f).reduce((function(e,t){return o.f[t](a,e),e}),[]))}}(),function(){o.u=function(a){return"js/"+a+"."+{125:"89219218",353:"3f087b68",427:"d5d9d70d"}[a]+".js"}}(),function(){o.miniCssF=function(a){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){o.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){var a={},e="sgts-web:";o.l=function(t,i,s,r){if(a[t])a[t].push(i);else{var n,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==e+s){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,o.nc&&n.setAttribute("nonce",o.nc),n.setAttribute("data-webpack",e+s),n.src=t),a[t]=[i];var m=function(e,o){n.onerror=n.onload=null,clearTimeout(p);var i=a[t];if(delete a[t],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(a){return a(o)})),e)return e(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){o.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var a={524:0};o.f.j=function(e,t){var i=o.o(a,e)?a[e]:void 0;if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(o,t){i=a[e]=[o,t]}));t.push(i[2]=s);var r=o.p+o.u(e),n=new Error,l=function(t){if(o.o(a,e)&&(i=a[e],0!==i&&(a[e]=void 0),i)){var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;n.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",n.name="ChunkLoadError",n.type=s,n.request=r,i[1](n)}};o.l(r,l,"chunk-"+e,e)}},o.O.j=function(e){return 0===a[e]};var e=function(e,t){var i,s,r=t[0],n=t[1],l=t[2],c=0;if(r.some((function(e){return 0!==a[e]}))){for(i in n)o.o(n,i)&&(o.m[i]=n[i]);if(l)var d=l(o)}for(e&&e(t);c<r.length;c++)s=r[c],o.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return o.O(d)},t=self["webpackChunksgts_web"]=self["webpackChunksgts_web"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=o.O(void 0,[504],(function(){return o(6843)}));t=o.O(t)})();
//# sourceMappingURL=app.94a272ff.js.map